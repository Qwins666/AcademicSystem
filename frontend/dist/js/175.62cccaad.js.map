{"version":3,"file":"js/175.62cccaad.js","mappings":"mVAGO,SAASA,EAAYC,GAC1B,OAAO,OAAQ,CACbC,IAAK,SACLC,OAAQ,MACRF,UAEJ,CAoBO,SAASG,EAAWC,EAAIC,GAC7B,OAAO,OAAQ,CACbJ,IAAK,UAAUG,IACfF,OAAQ,MACRG,QAEJ,CAGO,SAASC,EAAWF,GACzB,OAAO,OAAQ,CACbH,IAAK,UAAUG,IACfF,OAAQ,UAEZ,CAGO,SAASK,EAAiBH,EAAII,GACnC,OAAO,OAAQ,CACbP,IAAK,UAAUG,WACfF,OAAQ,MACRG,KAAM,CAAEG,WAEZ,CAoBO,SAASC,EAAYL,GAC1B,OAAO,OAAQ,CACbH,IAAK,sBAAsBG,IAC3BF,OAAQ,QAEZ,CAGO,SAASQ,EAAWN,GACzB,OAAO,OAAQ,CACbH,IAAK,qBAAqBG,IAC1BF,OAAQ,QAEZ,CAGO,SAASS,EAAkBP,GAChC,OAAO,OAAQ,CACbH,IAAK,UAAUG,mBACfF,OAAQ,OAEZ,C,oZC1FO,SAASU,EAAeZ,EAAS,CAAC,GACvC,OAAO,OAAQ,CACbC,IAAK,YACLC,OAAQ,MACRF,UAEJ,CAGO,SAASa,EAAeT,GAC7B,OAAO,OAAQ,CACbH,IAAK,aAAaG,IAClBF,OAAQ,OAEZ,CAGO,SAASY,EAAcT,GAC5B,OAAO,OAAQ,CACbJ,IAAK,YACLC,OAAQ,OACRG,QAEJ,CAGO,SAASU,EAAcX,EAAIC,GAChC,OAAO,OAAQ,CACbJ,IAAK,aAAaG,IAClBF,OAAQ,MACRG,QAEJ,CAGO,SAASW,EAAcZ,GAC5B,OAAO,OAAQ,CACbH,IAAK,aAAaG,IAClBF,OAAQ,UAEZ,CAmBO,SAASe,EAAiBC,EAAWC,GAC1C,OAAO,OAAQ,CACblB,IAAK,aAAaiB,YAClBhB,OAAQ,OACRG,KAAM,CAAEe,SAAUD,EAAQE,KAAM,WAEpC,CAGO,SAASC,EAAoBJ,EAAWC,GAC7C,OAAO,OAAQ,CACblB,IAAK,aAAaiB,aAAqBC,IACvCjB,OAAQ,UAEZ,CAGO,SAASqB,EAAkBL,GAChC,OAAO,OAAQ,CACbjB,IAAK,aAAaiB,YAClBhB,OAAQ,OAEZ,CAmBO,SAASsB,EAAoBN,EAAWb,GAC7C,OAAO,OAAQ,CACbJ,IAAK,aAAaiB,eAClBhB,OAAQ,OACRG,QAEJ,CAGO,SAASoB,EAAuBP,EAAWQ,EAAarB,GAC7D,OAAO,OAAQ,CACbJ,IAAK,aAAaiB,gBAAwBQ,IAC1CxB,OAAQ,MACRG,QAEJ,CAWO,SAASsB,EAAqBT,GACnC,OAAO,OAAQ,CACbjB,IAAK,aAAaiB,eAClBhB,OAAQ,OAEZ,CAoBO,SAAS0B,EAAgBV,GAC9B,OAAO,OAAQ,CACbjB,IAAK,aAAaiB,UAClBhB,OAAQ,OAEZ,CAGO,SAAS2B,EAAkBX,EAAWY,GAC3C,OAAO,OAAQ,CACb7B,IAAK,aAAaiB,WAAmBY,IACrC5B,OAAQ,UAEZ,CAYO,SAAS6B,EAAuB3B,GACrC,OAAO,OAAQ,CACbH,IAAK,0BAA0BG,IAC/BF,OAAQ,OAEZ,CAGO,SAAS8B,IACd,OAAO,OAAQ,CACb/B,IAAK,+BACLC,OAAQ,OAEZ,C,kGC/LO+B,MAAM,kB,GACJA,MAAM,e,GAEJA,MAAM,kB,GAiBNA,MAAM,gB,GACJA,MAAM,Y,GACJA,MAAM,a,GAINA,MAAM,a,GAINA,MAAM,a,GAINA,MAAM,a,GAKRA,MAAM,Y,GACJA,MAAM,a,GAINA,MAAM,a,GAINA,MAAM,a,GAINA,MAAM,a,GAKRA,MAAM,uB,GACJA,MAAM,wB,GAEJA,MAAM,uB,GAUVA,MAAM,e,GACJA,MAAM,c,GA0CRA,MAAM,e,GACJA,MAAM,c,GAaNA,MAAM,sB,GACJA,MAAM,uB,GAYJA,MAAM,oB,GACJA,MAAM,oB,GACNA,MAAM,kB,GAEJA,MAAM,sB,SAoB6BA,MAAM,qB,GAC3CA,MAAM,yB,SAQTA,MAAM,mB,SAkBkDA,MAAM,uB,oBAkBwBA,MAAM,qB,GA2BjGA,MAAM,e,GACJA,MAAM,c,cAwEPA,MAAM,iB,GAuCNA,MAAM,iB,2hBA5VlB,QAkWM,MAlWN,EAkWM,EAjWJ,QAeM,MAfN,EAeM,EAdJ,QAAqC,mBAA9B,EAAAC,QAAQC,MAAQ,QAAJ,IACnB,QAYM,MAZN,EAYM,EAXJ,QAGY,GAHA,QAAO,EAAAC,YAAU,C,iBAC3B,IAAgC,EAAhC,QAAgC,Q,iBAAvB,IAAa,EAAb,QAAa,K,6BAAU,UAElC,M,oBAIQ,EAAO,U,WAHf,QAMY,G,MALVC,KAAK,UACJ,QAAO,EAAAC,Y,kBAET,IAED,oB,QAFC,UAED,O,+DAKJ,QA6CU,GA7CDL,MAAM,aAAW,C,iBACxB,IA2CM,EA3CN,QA2CM,MA3CN,EA2CM,EA1CJ,QAiBM,MAjBN,EAiBM,EAhBJ,QAGM,MAHN,EAGM,C,eAFJ,QAAoB,aAAb,SAAK,KACZ,QAA+B,qBAAtB,EAAAC,QAAQC,MAAI,MAEvB,QAGM,MAHN,EAGM,C,eAFJ,QAAoB,aAAb,SAAK,KACZ,QAAiF,GAAxEE,KAAM,EAAAE,WAAW,EAAAL,QAAQG,O,kBAAO,IAA+B,E,iBAA5B,EAAAG,YAAY,EAAAN,QAAQG,OAAI,K,oBAEtE,QAGM,MAHN,EAGM,C,eAFJ,QAAoB,aAAb,SAAK,KACZ,QAAqF,GAA5EA,KAAM,EAAAI,YAAY,EAAAP,QAAQQ,Q,kBAAQ,IAAiC,E,iBAA9B,EAAAC,aAAa,EAAAT,QAAQQ,QAAK,K,oBAE1E,QAGM,MAHN,EAGM,C,eAFJ,QAAoB,aAAb,SAAK,KACZ,QAAyF,GAAhFL,KAAM,EAAAO,aAAa,EAAAV,QAAQ1B,S,kBAAS,IAAmC,E,iBAAhC,EAAAqC,cAAc,EAAAX,QAAQ1B,SAAM,K,sBAGhF,QAiBM,MAjBN,EAiBM,EAhBJ,QAGM,MAHN,EAGM,C,eAFJ,QAAqB,aAAd,UAAM,KACb,QAAqC,qBAA5B,EAAA0B,QAAQY,YAAU,MAE7B,QAGM,MAHN,EAGM,C,eAFJ,QAAoB,aAAb,SAAK,KACZ,QAA+E,YAAzE,KAAC,QAAG,EAAAZ,QAAQa,QAAU,EAAAb,QAAQa,QAAQC,iBAAmB,QAAL,MAE5D,QAGM,MAHN,EAGM,C,eAFJ,QAAoB,aAAb,SAAK,KACZ,QAAoC,qBAA3B,EAAAd,QAAQe,WAAS,MAE5B,QAGM,MAHN,EAGM,C,eAFJ,QAAoB,aAAb,SAAK,KACZ,QAAkC,qBAAzB,EAAAf,QAAQgB,SAAO,QAG5B,QAKM,MALN,EAKM,EAJJ,QAGM,MAHN,EAGM,C,eAFJ,QAAoB,aAAb,SAAK,KACZ,QAAgE,MAAhE,GAAgE,QAA5B,EAAAhB,QAAQiB,aAAW,W,YAzCzB,EAAAC,YAgDtC,QA0NU,I,WA1NQ,EAAAC,U,qCAAA,EAAS,aAAEpB,MAAM,gB,kBAEjC,IAwCc,EAxCd,QAwCc,IAxCDqB,MAAM,OAAOnB,KAAK,W,kBAC7B,IAsCM,EAtCN,QAsCM,MAtCN,EAsCM,EArCJ,QAUM,MAVN,EAUM,C,eATJ,QAAa,UAAT,QAAI,IAIA,EAAO,U,WAHf,QAOY,G,MANVE,KAAK,UACJ,QAAK,eAAE,EAAAkB,kBAAmB,I,kBAG3B,IAA2B,EAA3B,QAA2B,Q,iBAAlB,IAAQ,EAAR,QAAQ,K,6BAAU,UAE7B,M,0BAEF,QAyBW,GAzBAlD,KAAM,EAAAmD,QAASC,MAAA,gB,kBACxB,IAA2D,EAA3D,QAA2D,GAA1CC,KAAK,WAAWJ,MAAM,MAAMK,MAAM,SACnD,QAA0D,GAAzCD,KAAK,WAAWJ,MAAM,KAAKK,MAAM,SAClD,QAA8D,GAA7CD,KAAK,YAAYJ,MAAM,QAAQK,MAAM,SACtD,QAA4D,GAA3CD,KAAK,aAAaJ,MAAM,KAAKK,MAAM,SACpD,QAMkB,GANDD,KAAK,OAAOJ,MAAM,KAAKK,MAAM,O,CACjCC,SAAO,QAGP,GAHc,EACvB,QAES,GAFAvB,KAAyB,WAAnBwB,EAAMC,IAAIzC,KAAoB,SAAW,W,kBACtD,IAAgD,E,iBAA1B,WAAnBwC,EAAMC,IAAIzC,KAAoB,MAAQ,MAAxB,K,6BAIvB,QAAgE,GAA/CqC,KAAK,WAAWJ,MAAM,OAAO,YAAU,SACxD,QAWkB,GAXDA,MAAM,KAAKK,MAAM,MAAMI,MAAM,S,CACjCH,SAAO,QAOf,GAPsB,CAKf,EAAAI,SAA8B,WAAnBH,EAAMC,IAAIzC,O,WAJ7B,QAOY,G,MANVgB,KAAK,SACL4B,KAAK,QACJ,QAAK,GAAE,EAAAC,mBAAmBL,EAAMC,M,kBAElC,IAED,oB,QAFC,QAED,O,2EAQV,QAwHc,IAxHDR,MAAM,OAAOnB,KAAK,c,kBAC7B,IAsHM,EAtHN,QAsHM,MAtHN,EAsHM,EArHJ,QAUM,MAVN,EAUM,C,eATJ,QAAe,UAAX,UAAM,IAIF,EAAA6B,SAA8B,cAAnB,EAAA9B,QAAQ1B,QAA6C,cAAnB,EAAA0B,QAAQ1B,QAAgD,IAAtB,EAAA2D,WAAWC,S,WAHlG,QAOY,G,MANV/B,KAAK,UACJ,QAAO,EAAAgC,uB,kBAGR,IAA2B,EAA3B,QAA2B,Q,iBAAlB,IAAQ,EAAR,QAAQ,K,6BAAU,aAE7B,M,wCAIF,QAuGM,MAvGN,EAuGM,EAtGJ,QAqGI,MArGJ,EAqGI,G,aApGF,QAmGI,mBAlG2B,EAAAC,qBAAoB,CAAzCC,EAAWC,M,WADrB,QAmGI,OAjGDC,IAAKF,EAAUE,IAChBxC,OAAK,SAAC,iBAAgB,C,UAC2D,cAAvC,mBAAiB,EAAU,MAAM,O,QAA4F,YAAvC,mBAAiB,EAAU,MAAM,O,QAAmD,qBAAmB,mBAAiB,EAAU,M,OAAmC,IAAU,kC,EAOjT,QAsBM,MAtBN,EAsBM,EArBJ,QAAmD,MAAnD,GAAmD,QAAlBuC,EAAQ,GAAH,IACtC,QAKM,MALN,EAKM,EAJJ,QAA6B,mBAAtBD,EAAUpC,MAAI,IACrB,QAEM,MAFN,EAAgC,WACxB,QAAG,EAAAuC,iBAAiBH,EAAUE,MAAME,QAAU,EAAAD,iBAAiBH,EAAUE,KAAKE,QAAU,OAAH,KAIvF,EAAAD,iBAAiBH,EAAUE,O,WADnC,QAKS,G,MAHNpC,KAAM,EAAAuC,sBAAsB,EAAAF,iBAAiBH,EAAUE,KAAKjE,S,kBAE7D,IAAoE,E,iBAAjE,EAAAqE,uBAAuB,EAAAH,iBAAiBH,EAAUE,KAAKjE,SAAM,K,sCAG1D,EAAAwD,SAA8B,cAAnB,EAAA9B,QAAQ1B,QAA6C,cAAnB,EAAA0B,QAAQ1B,QAA4B,EAAAkE,iBAAiBH,EAAUE,OAAQ,CAAC,UAAW,WAAWK,SAAS,EAAAJ,iBAAiBH,EAAUE,KAAKjE,S,4BAD5L,QAOY,G,MALV6B,KAAK,OACL4B,KAAK,QACJ,QAAK,GAAE,EAAAc,cAAc,EAAAL,iBAAiBH,EAAUE,MAAQ,CAAEA,IAAKF,EAAUE,IAAKtC,KAAMoC,EAAUpC,Q,kBAE/F,IAAmD,E,iBAAhD,EAAAuC,iBAAiBH,EAAUE,KAAO,KAAO,MAAX,K,0BAI1B,EAAAC,iBAAiBH,EAAUE,O,WAAtC,QA+DM,MA/DN,EA+DM,EA9DJ,QAGM,MAHN,EAGM,C,eAFJ,QAAsB,cAAd,SAAK,KACb,QAAiE,kBAA3D,EAAAC,iBAAiBH,EAAUE,KAAKtB,aAAe,OAAJ,KAKxB,YAAlBoB,EAAUE,KAAuC,eAAlBF,EAAUE,MAAyB,EAAAT,S,4BAD3E,QAmCM,MAnCN,EAmCM,C,eA/BJ,QAAsB,cAAd,SAAK,KACb,QAYY,IAXV/B,MAAM,cACL+C,OAAQ,EAAAC,UACRC,QAAO,yBAA6B,EAAAC,SACpC,aAAYC,EAAAA,iCACZ,WAAU,EAAAC,sBACVhF,KAAM,EAAAiF,uBAAuBf,EAAUE,KACvCc,UAAW,EAAAvB,SAA8B,cAAnB,EAAA9B,QAAQ1B,QAA6C,cAAnB,EAAA0B,QAAQ1B,OACjEgF,KAAA,I,kBAEA,IAA2D,EAA3D,QAA2D,GAAlDvD,MAAM,mBAAiB,C,iBAAC,IAAgB,EAAhB,QAAgB,M,qBACjD,QAAyD,OAApDA,MAAM,mBAAiB,E,QAAC,cAAS,QAAa,UAAT,U,6EAIjC,EAAAwD,kBAAkBlB,EAAUE,KAAKL,OAAS,I,WAArD,QAcM,MAdN,EAcM,G,aAbJ,QAYM,mBAXW,EAAAqB,kBAAkBlB,EAAUE,KAApCiB,K,WADT,QAYM,OAVHjB,IAAKiB,EAAKtF,GACX6B,MAAM,a,EAEN,QAA+D,KAA3D0D,KAAMD,EAAKE,QAASC,OAAO,W,QAAYH,EAAKI,UAAQ,MACxD,QAKE,GAJAzD,KAAK,SACL4B,KAAK,QACL8B,KAAK,SACJ,QAAK,GAAE,EAAAC,iBAAiBN,I,oDAOtB,EAAA1B,SAA8B,cAAnB,EAAA9B,QAAQ1B,QAA6C,cAAnB,EAAA0B,QAAQ1B,S,WAAhE,QAiBM,MAjBN,EAiBM,CAf+C,cAA3C,EAAAkE,iBAAiBH,EAAUE,KAAKjE,S,WADxC,QAOY,G,MALV6B,KAAK,UACL4B,KAAK,QACJ,QAAK,GAAE,EAAAgC,4BAA4B,EAAAvB,iBAAiBH,EAAUE,KAAM,c,kBACtE,IAED,oB,QAFC,WAED,O,qCAEmD,cAA3C,EAAAC,iBAAiBH,EAAUE,KAAKjE,S,WADxC,QAOY,G,MALV6B,KAAK,UACL4B,KAAK,QACJ,QAAK,GAAE,EAAAgC,4BAA4B,EAAAvB,iBAAiBH,EAAUE,KAAM,Y,kBACtE,IAED,oB,QAFC,YAED,O,sGAUZ,QAiDc,IAjDDnB,MAAM,OAAOnB,KAAK,S,kBAC7B,IA+CM,EA/CN,QA+CM,MA/CN,EA+CM,EA9CJ,QAiBM,MAjBN,EAiBM,EAhBJ,QAeY,IAdVF,MAAM,cACL+C,OAAQ,EAAAC,UACRC,QAAS,EAAAgB,cACT,aAAY,EAAAC,wBACZ,WAAU,EAAAd,sBACVhF,KAAM,EAAA+F,uBACNb,UAAW,EAAAvB,SAA8B,cAAnB,EAAA9B,QAAQ1B,QAA6C,cAAnB,EAAA0B,QAAQ1B,OACjEgF,KAAA,I,kBAEA,IAA2D,EAA3D,QAA2D,GAAlDvD,MAAM,mBAAiB,C,iBAAC,IAAgB,EAAhB,QAAgB,M,qBACjD,QAAyD,OAApDA,MAAM,mBAAiB,E,QAAC,cAAS,QAAa,UAAT,U,mBACxC,QAEM,OAFDA,MAAM,kBAAiB,0BAE5B,M,wFAGN,QAAa,UAAT,QAAI,I,eAAK,QAAK,qBAClB,QA0BW,GA1BA5B,KAAM,EAAAgG,MAAO5C,MAAA,gB,kBACtB,IAIkB,EAJlB,QAIkB,GAJDC,KAAK,WAAWJ,MAAM,MAAM,YAAU,O,CAC1CM,SAAO,QACyD,GADlD,EACvB,QAAyE,KAArE+B,KAAM9B,EAAMC,IAAI8B,QAASC,OAAO,W,QAAYhC,EAAMC,IAAIgC,UAAQ,O,OAGtE,QAIkB,GAJDpC,KAAK,WAAWJ,MAAM,OAAOK,MAAM,O,CACvCC,SAAO,QACwB,GADjB,E,iBACpB,EAAA0C,eAAezC,EAAMC,IAAIyC,WAAQ,K,OAGxC,QAA4D,GAA3C7C,KAAK,WAAWJ,MAAM,OAAOK,MAAM,SACpD,QAA+D,GAA9CD,KAAK,eAAeJ,MAAM,MAAMK,MAAM,SACvD,QAA8D,GAA7CD,KAAK,aAAaJ,MAAM,OAAOK,MAAM,SACtD,QAWkB,GAXDL,MAAM,KAAKK,MAAM,MAAMI,MAAM,S,CACjCH,SAAO,QA8E5B,GA9EmC,CAKf,EAAO,U,WAJf,QAOY,G,MANVvB,KAAK,SACL4B,KAAK,QACJ,QAAK,GAAE,EAAA+B,iBAAiBnC,EAAMC,M,kBAEhC,IAED,oB,QAFC,QAED,O,oGASZ,QA0BY,IA1BD0C,MAAM,O,WAAgB,EAAAjD,iB,qCAAA,EAAgB,oBAAEI,MAAM,S,CAoB5C8C,QAAM,QACf,IAGO,EAHP,QAGO,OAHP,EAGO,EAFL,QAA2D,GAA/C,QAAK,eAAE,EAAAlD,kBAAmB,I,kBAAO,IAAE,oB,QAAF,MAAE,O,OAC/C,QAAoE,GAAzDlB,KAAK,UAAW,QAAO,EAAAqE,oB,kBAAoB,IAAE,oB,QAAF,MAAE,O,yCAtB5D,IAkBU,EAlBV,QAkBU,IAlBAC,MAAO,EAAAC,WAAaC,MAAO,EAAAC,YAAaC,IAAI,iB,kBACpD,IAgBe,EAhBf,QAgBe,IAhBDzD,MAAM,OAAOI,KAAK,U,kBAC9B,IAcY,EAdZ,QAcY,I,WAbD,EAAAkD,WAAWzF,O,qCAAX,EAAAyF,WAAiB,UAC1BI,YAAY,QACZvD,MAAA,eACA,iBACC,gBAAe,EAAAwD,oBAChBC,UAAA,I,kBAGE,IAAoC,G,aADtC,QAKE,mBAJkB,EAAAC,kBAAXC,K,WADT,QAKE,IAHC3C,IAAK2C,EAAQhH,GACbkD,MAAK,GAAK8D,EAAQC,aAAaD,EAAQE,aACvCC,MAAOH,EAAQhH,I,yIAc1B,QAoCY,IAnCToG,MAAO,EAAAgB,iBAAmB,OAAS,O,WAC3B,EAAAC,uB,qCAAA,EAAsB,0BAC/B9D,MAAM,S,CA2BK8C,QAAM,QACf,IAGO,EAHP,QAGO,OAHP,EAGO,EAFL,QAAiE,GAArD,QAAK,eAAE,EAAAgB,wBAAyB,I,kBAAO,IAAE,oB,QAAF,MAAE,O,OACrD,QAAqE,GAA1DpF,KAAK,UAAW,QAAO,EAAAqF,qB,kBAAqB,IAAE,oB,QAAF,MAAE,O,yCA5B7D,IAwBU,EAxBV,QAwBU,IAxBAf,MAAO,EAAAgB,cAAgBd,MAAO,EAAAe,eAAgBb,IAAI,oB,kBAC1D,IAEe,EAFf,QAEe,IAFDzD,MAAM,OAAOI,KAAK,Q,kBAC9B,IAA+F,EAA/F,QAA+F,I,WAA5E,EAAAiE,cAAcxF,K,qCAAd,EAAAwF,cAAkB,QAAEX,YAAY,UAAUa,UAAU,MAAM,sB,gCAE/E,QASe,IATDvE,MAAM,OAAOI,KAAK,W,kBAC9B,IAOE,EAPF,QAOE,I,WANS,EAAAiE,cAAchD,Q,qCAAd,EAAAgD,cAAqB,WAC9BtF,KAAK,OACL2E,YAAY,SACZvD,MAAA,eACAqE,OAAO,aACP,eAAa,c,gCAGjB,QASe,IATDxE,MAAM,OAAOI,KAAK,e,kBAC9B,IAOE,EAPF,QAOE,I,WANS,EAAAiE,cAAcxE,Y,qCAAd,EAAAwE,cAAyB,eAClCtF,KAAK,WACJ0F,KAAM,EACPf,YAAY,UACZa,UAAU,MACV,sB,sKAoCZ,GACE1F,KAAM,gBACN,KAAA6F,GACE,MAAMC,GAAS,UACTC,GAAQ,UACRhH,GAAY,QAAS,IAAMgH,EAAMlI,OAAOI,IAGxCgD,GAAU,SAAI,GACdlB,GAAU,QAAS,CAAC,GAEpBsB,GAAU,QAAI,IACdW,GAAa,QAAI,IACjBkC,GAAQ,QAAI,IACZc,GAAoB,QAAI,IACxB9D,GAAY,QAAI,WAChBE,GAAmB,SAAI,GACvBkE,GAAyB,SAAI,GAC7BD,GAAmB,QAAI,MACvBZ,GAAa,QAAS,CAAEzF,OAAQ,KAChCwG,GAAgB,QAAS,CAC7BxF,KAAM,GACNwC,QAAS,GACTxB,YAAa,GACbsB,IAAK,KAIDH,EAAuB,CAC3B,CAAEG,IAAK,WAAYtC,KAAM,QACzB,CAAEsC,IAAK,aAActC,KAAM,QAC3B,CAAEsC,IAAK,SAAUtC,KAAM,WACvB,CAAEsC,IAAK,UAAWtC,KAAM,QACxB,CAAEsC,IAAK,eAAgBtC,KAAM,QAC7B,CAAEsC,IAAK,aAActC,KAAM,SAGvBgG,GAAgB,UAChBC,GAAmB,UAEnBtB,EAAc,CAClB3F,OAAQ,CACN,CAAEkH,UAAU,EAAMC,QAAS,QAASC,QAAS,YAI3CX,EAAiB,CACrBzF,KAAM,CACJ,CAAEkG,UAAU,EAAMC,QAAS,UAAWC,QAAS,QAC/C,CAAEC,IAAK,EAAGC,IAAK,IAAKH,QAAS,gBAAiBC,QAAS,SAEzD5D,QAAS,CACP,CAAE0D,UAAU,EAAMC,QAAS,UAAWC,QAAS,WAEjDpF,YAAa,CACX,CAAEkF,UAAU,EAAMC,QAAS,UAAWC,QAAS,QAC/C,CAAEC,IAAK,EAAGC,IAAK,IAAKH,QAAS,gBAAiBC,QAAS,UAIrDpD,GAAQ,QAAS,IAAMuD,EAAA,EAAMC,QAAQxD,OAGrCyD,EAAc,KAClB,IACE,MAAMC,EAAcC,aAAaC,QAAQ,YACzC,OAAKF,EAQEG,KAAKC,MAAMJ,IAPhBK,QAAQC,KAAK,4BAEN,CACL/I,GAAI,EACJgJ,MAAO,CAAC,UAId,CAAE,MAAOC,GAGP,OAFAH,QAAQG,MAAM,gBAAiBA,GAExB,CACLjJ,GAAI,EACJgJ,MAAO,CAAC,SAEZ,GAGIjI,GAAS,QAAS,KACtB,MAAMmI,EAAWV,IAEjB,OADAM,QAAQK,IAAI,QAASD,GACdA,GAAUlJ,IAAM,KAGnBoJ,GAAW,QAAS,KACxB,MAAMF,EAAWV,IACjB,OAAOU,GAAUF,QAAQ,IAAM,KAG3BpF,GAAU,QAAS,KACvB,IAEE,MAAMyF,EAAgBC,OAAOvI,EAAOoG,QAAU,EACxClG,EAAOmI,EAASjC,OAAS,GAGzBoC,EAAkBD,OAAOxH,EAAQ0H,WAAa,EAG9CC,EAAmB,UAATxI,EACVyI,EAAkBL,IAAkBE,EACpCI,EAASF,GAAWC,EAY1B,OATAZ,QAAQK,IAAI,aAAc,CACxBE,gBACApI,OACAsI,kBACAE,UACAC,kBACAC,WAGKC,QAAQD,EACjB,CAAE,MAAOV,GAEP,OADAH,QAAQG,MAAM,gBAAiBA,IACxB,CACT,IAIIY,EAAqB,KACRrB,IACjBM,QAAQK,IAAI,WACZL,QAAQK,IAAI,iCAAkCT,aAAaC,QAAQ,aACnEG,QAAQK,IAAI,WAAYpI,EAAOoG,OAC/B2B,QAAQK,IAAI,WAAYC,EAASjC,OACjC2B,QAAQK,IAAI,cAAerH,EAAQ0H,UACnCV,QAAQK,IAAI,eAAgBvF,EAAQuD,QAGhCtC,GAAY,QAAS,IAElB,iBAAiB/D,EAAUqG,eAI9B/E,EAAeH,IACnB,MAAM6H,EAAU,CACd,SAAY,OACZ,WAAc,OACd,SAAY,QAEd,OAAOA,EAAQ7H,IAASA,GAIpBE,EAAcF,IAClB,MAAM8H,EAAS,CACb,SAAY,UACZ,WAAc,UACd,SAAY,WAEd,OAAOA,EAAO9H,IAAS,QAInBM,EAAgBD,IACpB,MAAM0H,EAAW,CACf,SAAY,MACZ,WAAc,KACd,OAAU,MAEZ,OAAOA,EAAS1H,IAAUA,GAItBD,EAAeC,IACnB,MAAMyH,EAAS,CACb,SAAY,SACZ,WAAc,UACd,OAAU,WAEZ,OAAOA,EAAOzH,IAAU,QAIpBG,EAAiBrC,IACrB,MAAM6J,EAAY,CAChB,SAAY,MACZ,QAAW,MACX,OAAU,MACV,UAAa,MACb,UAAa,OAEf,OAAOA,EAAU7J,IAAWA,GAIxBoC,EAAgBpC,IACpB,MAAM2J,EAAS,CACb,SAAY,OACZ,QAAW,UACX,OAAU,UACV,UAAa,UACb,UAAa,UAEf,OAAOA,EAAO3J,IAAW,QAIrBqE,EAA0BrE,IAC9B,MAAM6J,EAAY,CAChB,QAAW,MACX,UAAa,MACb,QAAW,OAEb,OAAOA,EAAU7J,IAAWA,GAIxBoE,EAAyBpE,IAC7B,MAAM2J,EAAS,CACb,QAAW,UACX,UAAa,UACb,QAAW,UAEb,OAAOA,EAAO3J,IAAW,QAIrBkE,EAAoBD,IACxB,IAAKA,EAAK,OAAO,KAGjB,IAAIF,EAAYJ,EAAWoD,MAAM+C,KAAKC,GAAKA,EAAE9F,MAAQA,GAGrD,IAAKF,EAAW,CACd,MAAMiG,EAAalG,EAAqBgG,KAAKG,GAAKA,EAAEhG,MAAQA,GACxD+F,IAEFjG,EAAYJ,EAAWoD,MAAM+C,KAAKC,GAAKA,EAAEpI,OAASqI,EAAWrI,MAGxDoC,IACHA,EAAYJ,EAAWoD,MAAM+C,KAAKC,GAChCA,EAAEpI,MAAQoI,EAAEpI,KAAK2C,SAAS0F,EAAWrI,QAI7C,CAGA,IAAKoC,GAAyC,IAA5BJ,EAAWoD,MAAMnD,OAAc,CAC/C,MAAMoG,EAAalG,EAAqBgG,KAAKG,GAAKA,EAAEhG,MAAQA,GACxD+F,IACFjG,EAAYJ,EAAWoD,MAAM,GAEjC,CAEA,OAAOhD,GAMHmG,EAAsBnG,IAC1B,IAAKA,IAAcA,EAAUI,SAAgC,cAArBJ,EAAU/D,OAChD,OAAO,EAET,MAAMmE,EAAU,IAAIgG,KAAKpG,EAAUI,SAC7BiG,EAAQ,IAAID,KAClB,OAAOhG,EAAUiG,GAIbC,GAA8B,QAAS,KAE3C,MAAMC,EAAsB3G,EAAWoD,MAAMwD,OAAOR,GAAkB,cAAbA,EAAE/J,QAC3D,GAAmC,IAA/BsK,EAAoB1G,OACtB,OAAO,EAIT,MAAM4G,EAAmBF,EAAoBA,EAAoB1G,OAAS,GAAGK,IACvEwG,EAAqB3G,EAAqB4G,UAAUX,GAAKA,EAAE9F,MAAQuG,GAGzE,OAAIC,IAAuB3G,EAAqBF,OAAS,EAChD6G,EAIFA,EAAqB,IAIxBxF,EAAqB0F,GAClB9E,EAAMkB,MAAMwD,OAAOrF,GAAQA,EAAKyF,eAAiBA,GAIpD9G,EAAwB+G,UAC5B,IAEE,IAAK,MAAMZ,KAAclG,EAAsB,CAC7C,MAAM+G,EAAoB3G,EAAiB8F,EAAW/F,KACjD4G,SACG,QAAoBnK,EAAUqG,MAAO,CACzCpF,KAAMqI,EAAWrI,KACjBsC,IAAK+F,EAAW/F,IAChBjE,OAAQ,WAGd,OACM8K,IACN,KAAUC,QAAQ,YACpB,CAAE,MAAOlC,GACPH,QAAQG,MAAM,aAAcA,GAC5B,KAAUA,MAAM,YAClB,GAMI/C,EAAkBrC,IACtB,IAAKA,EAAM,MAAO,MAClB,MAAMuH,EAAQ,CAAC,IAAK,KAAM,KAAM,KAAM,MACtC,IAAIC,EAAI,EACR,MAAOxH,GAAQ,MAAQwH,EAAID,EAAMpH,OAAS,EACxCH,GAAQ,KACRwH,IAEF,MAAO,GAAGxH,EAAKyH,QAAQ,MAAMF,EAAMC,MAI/BE,EAAoBP,UACxBhI,EAAQmE,OAAQ,EAChB,IACE,MAAMqE,QAAY,QAAe1K,EAAUqG,OAM3C,GAJAsE,OAAOC,OAAO5J,EAAS0J,EAAIvL,MAAQuL,GACnC1C,QAAQK,IAAI,QAASrH,GAGjBA,EAAQ0H,WAAa1H,EAAQY,WAC/B,IAEE,MAAMiJ,QAAmB,QAAkB7K,EAAUqG,OAC/CyE,EAAcC,MAAMC,QAAQH,GAAcA,EAAcA,GAAY1L,MAAQ,GAC5E8L,EAASH,EAAY1B,KAAKC,GAAKA,EAAEpJ,SAAWe,EAAQ0H,UAE1D,GAAIuC,GAAUA,EAAO9E,SACnBnF,EAAQY,WAAaqJ,EAAO9E,cAG1B,IACE,MAAM+E,QAAgB,QAAuBlK,EAAQ0H,UAC/CyC,EAAWD,EAAQ/L,MAAQ+L,EAC7BC,EAAShF,SACXnF,EAAQY,WAAauJ,EAAShF,SAE9BnF,EAAQY,WAAa,OAEzB,CAAE,MAAOwJ,GACPpD,QAAQC,KAAK,YAAamD,GAC1BpK,EAAQY,WAAa,OACvB,CAEN,CAAE,MAAOyJ,GACPrD,QAAQC,KAAK,YAAaoD,GAC1BrK,EAAQY,WAAa,OACvB,CAEJ,CAAE,MAAOuG,GACPH,QAAQG,MAAM,YAAaA,GAC3B,KAAUA,MAAM,WAClB,CAAE,QACAjG,EAAQmE,OAAQ,CAClB,GAIIiF,EAAqBpB,UACzB,IACE,MAAMQ,QAAY,QAAkB1K,EAAUqG,OAC9C2B,QAAQK,IAAI,UAAWqC,GAEvB,IAAIa,EAAaR,MAAMC,QAAQN,GAAOA,EAAOA,GAAKvL,MAAQ,GAG1D,MAAMqM,QAA4BC,QAAQC,IACxCH,EAAWI,IAAIzB,MAAO0B,IACpB,IAEE,MAAMV,QAAgB,QAAuBU,EAAO3L,QACpD+H,QAAQK,IAAI,YAAa6C,GACzB,MAAM9C,EAAW8C,GAAS/L,MAAQ+L,EAGlC,MAAO,IACFU,EACHzF,SAAUiC,EAASjC,UAAY,KAC/BC,UAAWgC,EAAShC,WAAagC,EAASyD,WAAa,KACvDC,WAAY1D,EAAS0D,YAAc,KAEvC,CAAE,MAAO3D,GAGP,OAFAH,QAAQG,MAAM,OAAOyD,EAAO3L,cAAekI,GAEpC,IACFyD,EACHzF,SAAU,KACVC,UAAW,KACX0F,WAAY,KAEhB,KAIJxJ,EAAQ+D,MAAQmF,CAClB,CAAE,MAAOrD,GACPH,QAAQG,MAAM,YAAaA,GAC3B,KAAUA,MAAM,YAChB7F,EAAQ+D,MAAQ,EAClB,GAII0F,EAAwB7B,UAC5B,IAEE,MAAMQ,QAAY,UAEZsB,EAAWjB,MAAMC,QAAQN,GAAOA,EAAOA,GAAKvL,MAAQ,GACpD8M,EAAY3J,EAAQ+D,MAAMsF,IAAItC,GAAKA,EAAEpJ,QAC3CgG,EAAkBI,MAAQ2F,EAASnC,OAAO3D,IAAY+F,EAAUrI,SAASsC,EAAQhH,IACnF,CAAE,MAAOiJ,GACPH,QAAQG,MAAM,YAAaA,GAC3B,KAAUA,MAAM,YAChBlC,EAAkBI,MAAQ,EAC5B,GAII+D,EAAwBF,UAC5B,IACElC,QAAQK,IAAI,mBAAoBrI,EAAUqG,OAC1C,MAAM6F,EAAYzC,KAAK0C,MACjBzB,QAAY,QAAqB1K,EAAUqG,OAC3C+F,EAAU3C,KAAK0C,MAErBnE,QAAQK,IAAI,YAAY+D,EAAUF,OAClClE,QAAQK,IAAI,aAAcP,KAAKuE,UAAU3B,IAGzC1C,QAAQK,IAAI,eAAgBqC,GAC5B1C,QAAQK,IAAI,eAAgBqC,GAAOA,EAAI4B,eAAe,SACtDtE,QAAQK,IAAI,YAAaqC,UAAcA,EAAIvL,MAG3C8D,EAAWoD,MAAQ0E,MAAMC,QAAQN,GAAOA,EAAOA,GAAKvL,MAAQ,GAC5D6I,QAAQK,IAAI,cAAeP,KAAKuE,UAAUpJ,EAAWoD,QACrD2B,QAAQK,IAAI,UAAWpF,EAAWoD,MAAMnD,QAGpCD,EAAWoD,MAAMnD,OAAS,IAC5B8E,QAAQK,IAAI,aAAcP,KAAKuE,UAAUpJ,EAAWoD,MAAM,KAC1D2B,QAAQK,IAAI,iBAAkBpF,EAAWoD,MAAM,GAAGiG,eAAe,YAErE,CAAE,MAAOnE,GACPH,QAAQG,MAAM,YAAaA,GAC3BH,QAAQG,MAAM,QAASA,EAAMoE,SAAWzE,KAAKuE,UAAUlE,EAAMoE,UAAYpE,EAAMf,SAC/E,KAAUe,MAAM,YAChBlF,EAAWoD,MAAQ,EACrB,GAIImG,EAAmBtC,UACvB,IACE,MAAMQ,QAAY,QAAgB1K,EAAUqG,OAE5ClB,EAAMkB,MAAQ0E,MAAMC,QAAQN,GAAOA,EAAOA,GAAKvL,MAAQ,EACzD,CAAE,MAAOgJ,GACPH,QAAQG,MAAM,YAAaA,GAC3B,KAAUA,MAAM,YAChBhD,EAAMkB,MAAQ,EAChB,GAIIb,EAAqB0E,UACpBjD,EAAcZ,aAEbY,EAAcZ,MAAMoG,SAASvC,MAAOwC,IACxC,GAAIA,EACF,UACQ,QAAiB1M,EAAUqG,MAAOX,EAAWzF,QACnD,KAAUoK,QAAQ,UAClBhI,EAAiBgE,OAAQ,QACnBiF,UACAS,IAGNrG,EAAWzF,OAAS,EACtB,CAAE,MAAOkI,GACPH,QAAQG,MAAM,UAAWA,GACzB,KAAUA,MAAM,SAClB,KAMAnF,GAAqBkH,MAAO0B,IAChC,IAAae,QAAQ,aAAc,OAAQ,CACzCC,kBAAmB,KACnBC,iBAAkB,KAClB1L,KAAM,YACL2L,KAAK5C,UACN,UACQ,QAAoBlK,EAAUqG,MAAOuF,EAAO3L,QAClD,KAAUoK,QAAQ,gBACZiB,UACAS,GACR,CAAE,MAAO5D,GACPH,QAAQG,MAAM,UAAWA,GACzB,KAAUA,MAAM,SAClB,KAKEtE,GAAiBR,IACrBiD,EAAiBD,MAAQhD,EACzBsH,OAAOC,OAAOnE,EAAe,CAC3BxF,KAAMoC,EAAUpC,KAChBwC,QAASJ,EAAUI,SAAW,GAC9BxB,YAAaoB,EAAUpB,aAAe,GACtCsB,IAAKF,EAAUE,MAEjBgD,EAAuBF,OAAQ,GAI3BG,GAAsB0D,UACrBhD,EAAiBb,aAEhBa,EAAiBb,MAAMoG,SAASvC,MAAOwC,IAC3C,GAAIA,EACF,IAEE,MAAMK,EAAW,IAAKtG,GAGtB,IAAIjG,EAAc,KAClB,GAAI8F,EAAiBD,MAAO,CAE1B,GAAIC,EAAiBD,MAAM9C,IAAK,CAC9B,MAAM4G,EAAoBlH,EAAWoD,MAAM+C,KAAKC,IAE9C,MAAM2D,EAAexJ,EAAiB8C,EAAiBD,MAAM9C,KAC7D,OAAOyJ,GAAgBA,EAAa9N,KAElCiL,GAAqB3G,EAAiB8C,EAAiBD,MAAM9C,OAC/D/C,EAAcgD,EAAiB8C,EAAiBD,MAAM9C,KAAKrE,GAE/D,CAEIoH,EAAiBD,MAAMnH,KACzBsB,EAAc8F,EAAiBD,MAAMnH,GAEzC,CAEIsB,SAEI,QAAuBR,EAAUqG,MAAO7F,EAAauM,GAC3D,KAAU1C,QAAQ,kBAGZ,QAAoBrK,EAAUqG,MAAO0G,GAC3C,KAAU1C,QAAQ,WAGpB9D,EAAuBF,OAAQ,QACzB+D,IAGN9D,EAAiBD,MAAQ,KACzBI,EAAcxF,KAAO,GACrBwF,EAAchD,QAAU,GACxBgD,EAAcxE,YAAc,GAC5BwE,EAAclD,IAAM,EACtB,CAAE,MAAO4E,GACPH,QAAQG,MAAM,UAAWA,GAEzB,MAAM8E,EAAe9E,EAAMoE,UAAUpN,MAAM+N,KAAO,SAClD,KAAU/E,MAAM8E,EAClB,KAMAlI,GAA8BmF,MAAO7G,EAAW/D,KAEpD,IAAI6N,EAAa,GACF,cAAX7N,EACF6N,EAAa,MACO,YAAX7N,EACT6N,EAAa,MACO,YAAX7N,IACT6N,EAAa,OAGf,IAAaR,QAAQ,aAAaQ,MAAgB,OAAQ,CACxDP,kBAAmB,KACnBC,iBAAkB,KAClB1L,KAAM,YACL2L,KAAK5C,UACN,UACQ,QAAuBlK,EAAUqG,MAAOhD,EAAUnE,GAAI,CAAEI,WAC9D,KAAU+K,QAAQ,kBACZD,GACR,CAAE,MAAOjC,GACPH,QAAQG,MAAM,YAAaA,GAC3B,MAAM8E,EAAe9E,EAAMoE,UAAUpN,MAAM+N,KAAO,WAClD,KAAU/E,MAAM8E,EAClB,KAKEG,GAAwBlD,MAAO7G,IACnC,KAAUgK,QAAQ,wBAIdpI,GAA0BiF,UAC9B,KAAUG,QAAQ,gBACZmC,KAUFrI,GAAwB,KAC5B,KAAUgE,MAAM,WAIZrD,GAAmBoF,MAAO1F,IAC9B,IAAamI,QAAQ,aAAc,OAAQ,CACzCC,kBAAmB,KACnBC,iBAAkB,KAClB1L,KAAM,YACL2L,KAAK5C,UACN,UACQ,QAAkBlK,EAAUqG,MAAO7B,EAAKtF,IAC9C,KAAUmL,QAAQ,gBACZmC,GACR,CAAE,MAAOrE,GACPH,QAAQG,MAAM,UAAWA,GACzB,KAAUA,MAAM,SAClB,KAKE/G,GAAa,KACjB2F,EAAOuG,KAAK,uBAAuBtN,EAAUqG,eAIzCN,GAAsB,CAACwH,EAAOC,KAElC,MAAMpL,EAAQoL,EAAOpL,OAAS,GAE9B,OAAOA,EAAMqL,cAAc7J,SAAS2J,EAAME,gBAItCvM,GAAa,KACjB6F,EAAOuG,KAAK,yBAId,QAAMjL,EAAmBqL,IACnBA,GACF3B,OAKJ,QAAMxF,EAAyBmH,KACxBA,GAAUxG,EAAiBb,QAC9Ba,EAAiBb,MAAMsH,cACvBrH,EAAiBD,MAAQ,KACzBI,EAAcxF,KAAO,GACrBwF,EAAchD,QAAU,GACxBgD,EAAcxE,YAAc,OAKhC,QAAME,EAAYuL,IACD,YAAXA,EACFpC,IACoB,eAAXoC,EACTtD,IACoB,UAAXsD,GACTlB,OAIJ,QAAUtC,gBAEFO,UACAa,UACAlB,UACAoC,IAGNoB,WAAW,KACT7E,KACC,OAIL,MAAM/D,IAAgB,QAAS,KAC7B,MAAMf,EAAQuD,EAAA,EAAMC,QAAQxD,MAE5B,OADA+D,QAAQK,IAAI,eAAgBpE,GACrB,CACL,cAAiB,UAAUA,OAIzB4J,IAAa,QAAS,KACnB,CACL7N,UAAWA,EAAUqG,MACrB7F,YAAa,GACbyJ,aAAc,GACd6D,WAAY7N,EAAOoG,SAKjBjC,GAA0B6F,IAC9B,MAAM5G,EAAYG,EAAiByG,GACnC,MAAO,CACLjK,UAAWA,EAAUqG,MACrB7F,YAAa6C,EAAYA,EAAUnE,GAAK,EACxC+K,aAAcA,EACd6D,WAAY7N,EAAOoG,QAKjBnB,GAAuB,KACpB,CACLlF,UAAWA,EAAUqG,MACrB7F,YAAa,EACbsN,WAAY7N,EAAOoG,QAIvB,MAAO,CACLnE,UACAlB,UACAsB,UACAW,aACAkC,QACAc,oBACA9D,YACAE,mBACAkE,yBACAD,mBACAZ,aACAtC,uBACAqD,gBACAb,cACAc,iBACAO,gBACAC,mBACAjD,QACAnB,UACAiB,YACA4F,8BACA3E,iBACA6I,cACAvM,cACAD,aACAI,eACAF,cACAI,gBACAD,eACAiC,yBACAD,wBACAF,mBACAgG,qBACAjF,oBACApB,wBACAiC,iBACAI,qBACAxC,sBACAa,iBACA2C,uBACAzB,+BACAqI,yBACAnI,2BACAd,yBACAW,oBACA1D,cACAF,cACA6H,qBACAhD,uBACA3B,0BACAc,wBAEJ,G,UC5qCF,MAAM6I,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://academic-management-frontend/./src/api/user.js","webpack://academic-management-frontend/./src/api/project.js","webpack://academic-management-frontend/./src/views/project/ProjectDetail.vue","webpack://academic-management-frontend/./src/views/project/ProjectDetail.vue?5979"],"sourcesContent":["import request from './request'\n\n// 获取用户列表\nexport function getUserList(params) {\n  return request({\n    url: '/users',\n    method: 'get',\n    params\n  })\n}\n\n// 获取用户详情\nexport function getUserDetail(id) {\n  return request({\n    url: `/users/${id}`,\n    method: 'get'\n  })\n}\n\n// 创建用户\nexport function createUser(data) {\n  return request({\n    url: '/users',\n    method: 'post',\n    data\n  })\n}\n\n// 更新用户\nexport function updateUser(id, data) {\n  return request({\n    url: `/users/${id}`,\n    method: 'put',\n    data\n  })\n}\n\n// 删除用户\nexport function deleteUser(id) {\n  return request({\n    url: `/users/${id}`,\n    method: 'delete'\n  })\n}\n\n// 更新用户状态\nexport function updateUserStatus(id, status) {\n  return request({\n    url: `/users/${id}/status`,\n    method: 'put',\n    data: { status }\n  })\n}\n\n// 更新用户角色\nexport function updateUserRole(id, role) {\n  return request({\n    url: `/users/${id}/role`,\n    method: 'put',\n    data: { role }\n  })\n}\n\n// 获取待审批用户列表\nexport function getPendingUsers() {\n  return request({\n    url: '/auth/pending-users',\n    method: 'get'\n  })\n}\n\n// 审批用户\nexport function approveUser(id) {\n  return request({\n    url: `/auth/approve-user/${id}`,\n    method: 'post'\n  })\n}\n\n// 拒绝用户申请\nexport function rejectUser(id) {\n  return request({\n    url: `/auth/reject-user/${id}`,\n    method: 'post'\n  })\n}\n\n// 重置用户密码\nexport function resetUserPassword(id) {\n  return request({\n    url: `/users/${id}/reset-password`,\n    method: 'put'\n  })\n}","import request from './request'\n\n// 获取所有项目\nexport function getAllProjects(params = {}) {\n  return request({\n    url: '/projects',\n    method: 'get',\n    params\n  })\n}\n\n// 获取项目详情\nexport function getProjectById(id) {\n  return request({\n    url: `/projects/${id}`,\n    method: 'get'\n  })\n}\n\n// 创建项目\nexport function createProject(data) {\n  return request({\n    url: '/projects',\n    method: 'post',\n    data\n  })\n}\n\n// 更新项目\nexport function updateProject(id, data) {\n  return request({\n    url: `/projects/${id}`,\n    method: 'put',\n    data\n  })\n}\n\n// 删除项目\nexport function deleteProject(id) {\n  return request({\n    url: `/projects/${id}`,\n    method: 'delete'\n  })\n}\n\n// 根据负责人ID获取项目\nexport function getProjectsByLeaderId(leaderId) {\n  return request({\n    url: `/projects/leader/${leaderId}`,\n    method: 'get'\n  })\n}\n\n// 根据成员ID获取项目\nexport function getProjectsByMemberId(memberId) {\n  return request({\n    url: `/projects/member/${memberId}`,\n    method: 'get'\n  })\n}\n\n// 添加项目成员\nexport function addProjectMember(projectId, userId) {\n  return request({\n    url: `/projects/${projectId}/members`,\n    method: 'post',\n    data: { memberId: userId, role: 'MEMBER' } // 使用memberId参数名并添加role参数\n  })\n}\n\n// 移除项目成员\nexport function removeProjectMember(projectId, userId) {\n  return request({\n    url: `/projects/${projectId}/members/${userId}`,\n    method: 'delete'\n  })\n}\n\n// 获取项目成员列表\nexport function getProjectMembers(projectId) {\n  return request({\n    url: `/projects/${projectId}/members`,\n    method: 'get'\n  })\n}\n\n// 根据类型获取项目\nexport function getProjectsByType(type) {\n  return request({\n    url: `/projects/type/${type}`,\n    method: 'get'\n  })\n}\n\n// 根据状态获取项目\nexport function getProjectsByStatus(status) {\n  return request({\n    url: `/projects/status/${status}`,\n    method: 'get'\n  })\n}\n\n// 添加项目里程碑\nexport function addProjectMilestone(projectId, data) {\n  return request({\n    url: `/projects/${projectId}/milestones`,\n    method: 'post',\n    data\n  })\n}\n\n// 更新项目里程碑\nexport function updateProjectMilestone(projectId, milestoneId, data) {\n  return request({\n    url: `/projects/${projectId}/milestones/${milestoneId}`,\n    method: 'put',\n    data\n  })\n}\n\n// 删除项目里程碑\nexport function deleteProjectMilestone(projectId, milestoneId) {\n  return request({\n    url: `/projects/${projectId}/milestones/${milestoneId}`,\n    method: 'delete'\n  })\n}\n\n// 获取项目里程碑列表\nexport function getProjectMilestones(projectId) {\n  return request({\n    url: `/projects/${projectId}/milestones`,\n    method: 'get'\n  })\n}\n\n// 上传项目文件\nexport function uploadProjectFile(projectId, file, milestoneId, milestoneKey, uploaderId) {\n  const formData = new FormData()\n  formData.append('file', file)\n  formData.append('milestoneId', milestoneId || '')\n  formData.append('milestoneKey', milestoneKey || '')\n  formData.append('uploaderId', uploaderId)\n  return request({\n    url: `/projects/${projectId}/files`,\n    method: 'post',\n    data: formData,\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  })\n}\n\n// 获取项目文件列表\nexport function getProjectFiles(projectId) {\n  return request({\n    url: `/projects/${projectId}/files`,\n    method: 'get'\n  })\n}\n\n// 删除项目文件\nexport function deleteProjectFile(projectId, fileId) {\n  return request({\n    url: `/projects/${projectId}/files/${fileId}`,\n    method: 'delete'\n  })\n}\n\n// 更改项目状态\nexport function updateProjectStatus(projectId, status) {\n  return request({\n    url: `/projects/${projectId}/status`,\n    method: 'put',\n    data: { status }\n  })\n}\n\n// 获取项目负责人详情\nexport function getUserDetailAtProject(id) {\n  return request({\n    url: `/projects/leaderDetail/${id}`,\n    method: 'get'\n  })\n}\n\n// 获取可用学生列表（教师可访问）\nexport function getAvailableStudents() {\n  return request({\n    url: '/projects/available-students',\n    method: 'get'\n  })\n}","<template>\n  <div class=\"project-detail\">\n    <div class=\"page-header\">\n      <h1>{{ project.name || '项目详情' }}</h1>\n      <div class=\"header-actions\">\n        <el-button @click=\"handleBack\">\n          <el-icon><ArrowLeft /></el-icon>\n          返回列表\n        </el-button>\n        <el-button \n          type=\"primary\" \n          @click=\"handleEdit\"\n          v-if=\"canEdit\"\n        >\n          编辑项目\n        </el-button>\n      </div>\n    </div>\n\n    <!-- 项目基本信息卡片 -->\n    <el-card class=\"info-card\" v-loading=\"loading\">\n      <div class=\"info-content\">\n        <div class=\"info-row\">\n          <div class=\"info-item\">\n            <label>项目名称：</label>\n            <span>{{ project.name }}</span>\n          </div>\n          <div class=\"info-item\">\n            <label>项目类型：</label>\n            <el-tag :type=\"getTypeTag(project.type)\">{{ getTypeName(project.type) }}</el-tag>\n          </div>\n          <div class=\"info-item\">\n            <label>项目级别：</label>\n            <el-tag :type=\"getLevelTag(project.level)\">{{ getLevelName(project.level) }}</el-tag>\n          </div>\n          <div class=\"info-item\">\n            <label>项目状态：</label>\n            <el-tag :type=\"getStatusTag(project.status)\">{{ getStatusName(project.status) }}</el-tag>\n          </div>\n        </div>\n        <div class=\"info-row\">\n          <div class=\"info-item\">\n            <label>项目负责人：</label>\n            <span>{{ project.leaderName }}</span>\n          </div>\n          <div class=\"info-item\">\n            <label>项目经费：</label>\n            <span>¥{{ project.funding ? project.funding.toLocaleString() : '0.00' }}</span>\n          </div>\n          <div class=\"info-item\">\n            <label>开始日期：</label>\n            <span>{{ project.startDate }}</span>\n          </div>\n          <div class=\"info-item\">\n            <label>结束日期：</label>\n            <span>{{ project.endDate }}</span>\n          </div>\n        </div>\n        <div class=\"info-row full-width\">\n          <div class=\"info-item full-width\">\n            <label>项目描述：</label>\n            <div class=\"description-content\">{{ project.description }}</div>\n          </div>\n        </div>\n      </div>\n    </el-card>\n\n    <!-- 标签页 -->\n    <el-tabs v-model=\"activeTab\" class=\"project-tabs\">\n      <!-- 成员管理 -->\n      <el-tab-pane label=\"项目成员\" name=\"members\">\n        <div class=\"tab-content\">\n          <div class=\"tab-header\">\n            <h3>成员列表</h3>\n            <el-button \n              type=\"primary\" \n              @click=\"showInviteDialog = true\"\n              v-if=\"canEdit\"\n            >\n              <el-icon><Plus /></el-icon>\n              邀请成员\n            </el-button>\n          </div>\n          <el-table :data=\"members\" style=\"width: 100%\">\n            <el-table-column prop=\"userName\" label=\"用户名\" width=\"120\" />\n            <el-table-column prop=\"realName\" label=\"姓名\" width=\"120\" />\n            <el-table-column prop=\"studentId\" label=\"学号/工号\" width=\"120\" />\n            <el-table-column prop=\"department\" label=\"院系\" width=\"150\" />\n            <el-table-column prop=\"role\" label=\"角色\" width=\"100\">\n              <template #default=\"scope\">\n                <el-tag :type=\"scope.row.role === 'LEADER' ? 'danger' : 'primary'\">\n                  {{ scope.row.role === 'LEADER' ? '负责人' : '成员' }}\n                </el-tag>\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"joinTime\" label=\"加入时间\" min-width=\"180\" />\n            <el-table-column label=\"操作\" width=\"120\" fixed=\"right\">\n              <template #default=\"scope\">\n                <el-button \n                  type=\"danger\" \n                  size=\"small\" \n                  @click=\"handleRemoveMember(scope.row)\"\n                  v-if=\"canEdit && scope.row.role !== 'LEADER'\"\n                >\n                  移除\n                </el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n      </el-tab-pane>\n\n      <!-- 阶段管理 -->\n      <el-tab-pane label=\"项目阶段\" name=\"milestones\">\n        <div class=\"tab-content\">\n          <div class=\"tab-header\">\n            <h3>项目阶段进度</h3>\n            <el-button \n              type=\"primary\" \n              @click=\"initProjectMilestones\"\n              v-if=\"canEdit && project.status !== 'COMPLETED' && project.status !== 'CANCELLED' && milestones.length === 0\"\n            >\n              <el-icon><Plus /></el-icon>\n              初始化项目阶段\n            </el-button>\n          </div>\n          \n          <!-- 阶段进度节点 - 横向排列 -->\n          <div class=\"milestone-timeline\">\n            <div class=\"milestone-container\">\n              <div \n                v-for=\"(milestone, index) in predefinedMilestones\" \n                :key=\"milestone.key\"\n                class=\"milestone-node\"\n                :class=\"{ \n                  'completed': getMilestoneById(milestone.key)?.status === 'COMPLETED',\n                  'pending': getMilestoneById(milestone.key)?.status === 'PENDING',\n                  'overdue': isMilestoneOverdue(getMilestoneById(milestone.key)),\n                  'active': index === currentActiveMilestoneIndex\n                }\"\n              >\n              <div class=\"milestone-header\">\n                <div class=\"milestone-number\">{{ index + 1 }}</div>\n                <div class=\"milestone-info\">\n                  <h4>{{ milestone.name }}</h4>\n                  <div class=\"milestone-due-date\">\n                    截止日期: {{ getMilestoneById(milestone.key)?.dueDate ? getMilestoneById(milestone.key).dueDate : '未设置' }}\n                  </div>\n                </div>\n                <el-tag \n                  v-if=\"getMilestoneById(milestone.key)\"\n                  :type=\"getMilestoneStatusTag(getMilestoneById(milestone.key).status)\"\n                >\n                  {{ getMilestoneStatusName(getMilestoneById(milestone.key).status) }}\n                </el-tag>\n                <el-button \n                  v-if=\"canEdit && project.status !== 'COMPLETED' && project.status !== 'CANCELLED' && (!getMilestoneById(milestone.key) || ['PENDING', 'OVERDUE'].includes(getMilestoneById(milestone.key).status))\"\n                  type=\"text\" \n                  size=\"small\" \n                  @click=\"editMilestone(getMilestoneById(milestone.key) || { key: milestone.key, name: milestone.name } )\"\n                >\n                  {{ getMilestoneById(milestone.key) ? '编辑' : '添加' }}\n                </el-button>\n              </div>\n              \n              <div v-if=\"getMilestoneById(milestone.key)\" class=\"milestone-content\">\n                <div class=\"milestone-description\">\n                  <strong>阶段描述:</strong>\n                  <p>{{ getMilestoneById(milestone.key).description || '无描述' }}</p>\n                </div>\n                \n                <!-- 中期检查和结题验收阶段显示文件上传 -->\n                <div \n                  v-if=\"(milestone.key === 'midterm' || milestone.key === 'conclusion') && canEdit\"\n                  class=\"milestone-files\"\n                >\n                  <strong>相关文件:</strong>\n                  <el-upload\n                    class=\"upload-demo\"\n                    :action=\"uploadUrl\"\n                    :headers=\"{ Authorization: `Bearer ${token}` }\"\n                    :on-success=\"handleMilestoneFileUploadSuccess\"\n                    :on-error=\"handleFileUploadError\"\n                    :data=\"getMilestoneUploadData(milestone.key)\"\n                    :disabled=\"!canEdit || project.status === 'COMPLETED' || project.status === 'CANCELLED'\"\n                    drag\n                  >\n                    <el-icon class=\"el-icon--upload\"><UploadFilled /></el-icon>\n                    <div class=\"el-upload__text\">拖拽文件到此处或 <em>点击上传</em></div>\n                  </el-upload>\n                  \n                  <!-- 文件列表 -->\n                  <div v-if=\"getMilestoneFiles(milestone.key).length > 0\" class=\"milestone-file-list\">\n                    <div \n                      v-for=\"file in getMilestoneFiles(milestone.key)\" \n                      :key=\"file.id\"\n                      class=\"file-item\"\n                    >\n                      <a :href=\"file.fileUrl\" target=\"_blank\">{{ file.fileName }}</a>\n                      <el-button \n                        type=\"danger\" \n                        size=\"small\" \n                        icon=\"Delete\"\n                        @click=\"handleDeleteFile(file)\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                \n                <!-- 操作按钮 -->\n                <div v-if=\"canEdit && project.status !== 'COMPLETED' && project.status !== 'CANCELLED'\" class=\"milestone-actions\">\n                  <el-button \n                    v-if=\"getMilestoneById(milestone.key).status !== 'COMPLETED'\"\n                    type=\"primary\" \n                    size=\"small\" \n                    @click=\"handleUpdateMilestoneStatus(getMilestoneById(milestone.key), 'COMPLETED')\"\n                  >\n                    标记为完成\n                  </el-button>\n                  <el-button \n                    v-if=\"getMilestoneById(milestone.key).status === 'COMPLETED'\"\n                    type=\"warning\" \n                    size=\"small\" \n                    @click=\"handleUpdateMilestoneStatus(getMilestoneById(milestone.key), 'PENDING')\"\n                  >\n                    标记为待完成\n                  </el-button>\n                </div>\n              </div>\n            </div>\n          </div>\n          </div>\n        </div>\n      </el-tab-pane>\n\n      <!-- 文件管理 -->\n      <el-tab-pane label=\"项目文件\" name=\"files\">\n        <div class=\"tab-content\">\n          <div class=\"tab-header\">\n            <el-upload\n              class=\"upload-demo\"\n              :action=\"uploadUrl\"\n              :headers=\"uploadHeaders\"\n              :on-success=\"handleFileUploadSuccess\"\n              :on-error=\"handleFileUploadError\"\n              :data=\"getGeneralUploadData()\"\n              :disabled=\"!canEdit || project.status === 'COMPLETED' || project.status === 'CANCELLED'\"\n              drag\n            >\n              <el-icon class=\"el-icon--upload\"><UploadFilled /></el-icon>\n              <div class=\"el-upload__text\">拖拽文件到此处或 <em>点击上传</em></div>\n                <div class=\"el-upload__tip\">\n                  支持上传中期报告、结题材料等项目相关文件\n                </div>\n            </el-upload>\n          </div>\n          <h3>文件列表</h3><br/>\n          <el-table :data=\"files\" style=\"width: 100%\">\n            <el-table-column prop=\"fileName\" label=\"文件名\" min-width=\"250\">\n              <template #default=\"scope\">\n                <a :href=\"scope.row.fileUrl\" target=\"_blank\">{{ scope.row.fileName }}</a>\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"fileSize\" label=\"文件大小\" width=\"100\">\n              <template #default=\"scope\">\n                {{ formatFileSize(scope.row.fileSize) }}\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"fileType\" label=\"文件类型\" width=\"100\" />\n            <el-table-column prop=\"uploaderName\" label=\"上传者\" width=\"120\" />\n            <el-table-column prop=\"uploadTime\" label=\"上传时间\" width=\"180\" />\n            <el-table-column label=\"操作\" width=\"120\" fixed=\"right\">\n              <template #default=\"scope\">\n                <el-button \n                  type=\"danger\" \n                  size=\"small\" \n                  @click=\"handleDeleteFile(scope.row)\"\n                  v-if=\"canEdit\"\n                >\n                  删除\n                </el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n      </el-tab-pane>\n    </el-tabs>\n\n    <!-- 邀请成员对话框 -->\n    <el-dialog title=\"邀请成员\" v-model=\"showInviteDialog\" width=\"600px\">\n      <el-form :model=\"inviteForm\" :rules=\"inviteRules\" ref=\"inviteFormRef\">\n        <el-form-item label=\"选择学生\" prop=\"userId\">\n          <el-select \n            v-model=\"inviteForm.userId\" \n            placeholder=\"请选择学生\" \n            style=\"width: 100%\"\n            show-search\n            :filter-method=\"filterStudentMethod\"\n            clearable\n          >\n            <el-option \n              v-for=\"student in availableStudents\" \n              :key=\"student.id\" \n              :label=\"`${student.realName} (${student.studentId})`\" \n              :value=\"student.id\"\n            />\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"showInviteDialog = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"handleInviteMember\">确定</el-button>\n        </span>\n      </template>\n    </el-dialog>\n\n    <!-- 添加/编辑阶段对话框 -->\n    <el-dialog \n      :title=\"editingMilestone ? '编辑阶段' : '添加阶段'\" \n      v-model=\"showAddMilestoneDialog\" \n      width=\"600px\"\n    >\n      <el-form :model=\"milestoneForm\" :rules=\"milestoneRules\" ref=\"milestoneFormRef\">\n        <el-form-item label=\"阶段名称\" prop=\"name\">\n          <el-input v-model=\"milestoneForm.name\" placeholder=\"请输入阶段名称\" maxlength=\"200\" show-word-limit />\n        </el-form-item>\n        <el-form-item label=\"截止日期\" prop=\"dueDate\">\n          <el-date-picker \n            v-model=\"milestoneForm.dueDate\" \n            type=\"date\" \n            placeholder=\"选择截止日期\" \n            style=\"width: 100%\" \n            format=\"YYYY-MM-DD\" \n            value-format=\"YYYY-MM-DD\"\n          />\n        </el-form-item>\n        <el-form-item label=\"阶段描述\" prop=\"description\">\n          <el-input \n            v-model=\"milestoneForm.description\" \n            type=\"textarea\" \n            :rows=\"4\" \n            placeholder=\"请输入阶段描述\" \n            maxlength=\"500\" \n            show-word-limit\n          />\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"showAddMilestoneDialog = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"handleSaveMilestone\">确定</el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, computed, onMounted, watch } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport { \n  getProjectById, \n  getProjectMembers, \n  addProjectMember, \n  removeProjectMember,\n  getProjectMilestones,\n  addProjectMilestone,\n  updateProjectMilestone,\n  deleteProjectMilestone,\n  getProjectFiles,\n  uploadProjectFile,\n  deleteProjectFile,\n  getAvailableStudents,\n  getUserDetailAtProject\n} from '@/api/project'\nimport { getUserDetail } from '@/api/user'\nimport store from '@/store'\n\nexport default {\n  name: 'ProjectDetail',\n  setup() {\n    const router = useRouter()\n    const route = useRoute()\n    const projectId = computed(() => route.params.id)\n    \n    // 状态变量\n    const loading = ref(false)\n    const project = reactive({})\n    // 确保表格数据始终是数组类型\n    const members = ref([])\n    const milestones = ref([])\n    const files = ref([])\n    const availableStudents = ref([])\n    const activeTab = ref('members')\n    const showInviteDialog = ref(false)\n    const showAddMilestoneDialog = ref(false)\n    const editingMilestone = ref(null)\n    const inviteForm = reactive({ userId: '' })\n    const milestoneForm = reactive({ \n      name: '', \n      dueDate: '', \n      description: '',\n      key: '' // 添加key字段用于识别预定义阶段\n    })\n    \n    // 预定义的项目阶段\n    const predefinedMilestones = [\n      { key: 'proposal', name: '项目立项' },\n      { key: 'literature', name: '文献调研' },\n      { key: 'design', name: '方案设计与开发' },\n      { key: 'midterm', name: '中期检查' },\n      { key: 'achievements', name: '成果整理' },\n      { key: 'conclusion', name: '结题验收' }\n    ]\n    \n    const inviteFormRef = ref()\n    const milestoneFormRef = ref()\n    \n    const inviteRules = {\n      userId: [\n        { required: true, message: '请选择学生', trigger: 'change' }\n      ]\n    }\n    \n    const milestoneRules = {\n      name: [\n        { required: true, message: '请输入阶段名称', trigger: 'blur' },\n        { min: 2, max: 200, message: '名称长度在2到200个字符', trigger: 'blur' }\n      ],\n      dueDate: [\n        { required: true, message: '请选择截止日期', trigger: 'change' }\n      ],\n      description: [\n        { required: true, message: '请输入阶段描述', trigger: 'blur' },\n        { min: 5, max: 500, message: '描述长度在5到500个字符', trigger: 'blur' }\n      ]\n    }\n    \n    const token = computed(() => store.getters.token)\n    \n    // 增强用户信息获取逻辑，添加默认值处理\n    const getUserInfo = () => {\n      try {\n        const userInfoStr = localStorage.getItem('userInfo');\n        if (!userInfoStr) {\n          console.warn('localStorage中未找到userInfo');\n          // 返回默认用户信息，用于开发和测试\n          return {\n            id: 2, // 假设项目负责人ID为2，用于测试\n            roles: ['ADMIN'] // 默认为管理员角色\n          };\n        }\n        return JSON.parse(userInfoStr);\n      } catch (error) {\n        console.error('解析userInfo失败:', error);\n        // 发生错误时也返回默认用户信息\n        return {\n          id: 2,\n          roles: ['ADMIN']\n        };\n      }\n    }\n    \n    const userId = computed(() => {\n      const userInfo = getUserInfo();\n      console.log('用户信息:', userInfo);\n      return userInfo?.id || '';\n    })\n    \n    const userRole = computed(() => {\n      const userInfo = getUserInfo();\n      return userInfo?.roles?.[0] || '';\n    })\n    \n    const canEdit = computed(() => {\n      try {\n        // 获取当前用户ID和角色\n        const currentUserId = Number(userId.value) || 0;\n        const role = userRole.value || '';\n        \n        // 获取项目负责人ID\n        const projectLeaderId = Number(project.leaderId) || 0;\n        \n        // 简单的权限判断逻辑\n        const isAdmin = role === 'ADMIN';\n        const isProjectLeader = currentUserId === projectLeaderId;\n        const result = isAdmin || isProjectLeader;\n        \n        // 添加调试日志\n        console.log('canEdit计算:', {\n          currentUserId,\n          role,\n          projectLeaderId,\n          isAdmin,\n          isProjectLeader,\n          result\n        });\n        \n        return Boolean(result); // 确保返回布尔值\n      } catch (error) {\n        console.error('计算canEdit时出错:', error);\n        return true; // 出错时默认允许编辑，便于调试\n      }\n    })\n    \n    // 在开发环境添加额外的辅助函数来验证用户状态\n    const validateUserStatus = () => {\n      const userInfo = getUserInfo();\n      console.log('验证用户状态:');\n      console.log('1. localStorage中是否有userInfo:', !!localStorage.getItem('userInfo'));\n      console.log('2. 用户ID:', userId.value);\n      console.log('3. 用户角色:', userRole.value);\n      console.log('4. 项目负责人ID:', project.leaderId);\n      console.log('5. canEdit值:', canEdit.value);\n    }\n    \n    const uploadUrl = computed(() => {\n      // 使用相对路径，vue.config.js已配置代理\n      return `/api/projects/${projectId.value}/files`\n    })\n    \n    // 获取类型名称\n    const getTypeName = (type) => {\n      const typeMap = {\n        'RESEARCH': '研究项目',\n        'INNOVATION': '创新项目',\n        'PRACTICE': '实践项目'\n      }\n      return typeMap[type] || type\n    }\n    \n    // 获取类型标签样式\n    const getTypeTag = (type) => {\n      const tagMap = {\n        'RESEARCH': 'primary',\n        'INNOVATION': 'success',\n        'PRACTICE': 'warning'\n      }\n      return tagMap[type] || 'info'\n    }\n    \n    // 获取级别名称\n    const getLevelName = (level) => {\n      const levelMap = {\n        'NATIONAL': '国家级',\n        'PROVINCIAL': '省级',\n        'SCHOOL': '校级'\n      }\n      return levelMap[level] || level\n    }\n    \n    // 获取级别标签样式\n    const getLevelTag = (level) => {\n      const tagMap = {\n        'NATIONAL': 'danger',\n        'PROVINCIAL': 'warning',\n        'SCHOOL': 'success'\n      }\n      return tagMap[level] || 'info'\n    }\n    \n    // 获取状态名称\n    const getStatusName = (status) => {\n      const statusMap = {\n        'PLANNING': '规划中',\n        'ONGOING': '进行中',\n        'ACTIVE': '进行中', // 添加对ACTIVE状态的支持\n        'COMPLETED': '已完成',\n        'CANCELLED': '已取消'\n      }\n      return statusMap[status] || status\n    }\n    \n    // 获取状态标签样式\n    const getStatusTag = (status) => {\n      const tagMap = {\n        'PLANNING': 'info',\n        'ONGOING': 'success',\n        'ACTIVE': 'success', // 添加对ACTIVE状态的支持\n        'COMPLETED': 'warning',\n        'CANCELLED': 'danger'\n      }\n      return tagMap[status] || 'info'\n    }\n    \n    // 获取阶段状态名称\n    const getMilestoneStatusName = (status) => {\n      const statusMap = {\n        'PENDING': '待完成',\n        'COMPLETED': '已完成',\n        'OVERDUE': '已逾期'\n      }\n      return statusMap[status] || status\n    }\n    \n    // 获取阶段状态标签样式\n    const getMilestoneStatusTag = (status) => {\n      const tagMap = {\n        'PENDING': 'warning',\n        'COMPLETED': 'success',\n        'OVERDUE': 'danger'\n      }\n      return tagMap[status] || 'info'\n    }\n    \n    // 根据key获取阶段对象，也支持通过名称匹配\n    const getMilestoneById = (key) => {\n      if (!key) return null\n      \n      // 尝试通过key直接匹配（首选方式）\n      let milestone = milestones.value.find(m => m.key === key)\n      \n      // 如果找不到，尝试通过预定义名称匹配\n      if (!milestone) {\n        const predefined = predefinedMilestones.find(p => p.key === key)\n        if (predefined) {\n          // 尝试通过名称匹配\n          milestone = milestones.value.find(m => m.name === predefined.name)\n          \n          // 如果仍未找到，尝试通过部分名称匹配\n          if (!milestone) {\n            milestone = milestones.value.find(m => \n              m.name && m.name.includes(predefined.name)\n            )\n          }\n        }\n      }\n      \n      // 最后的备选方案：如果有且只有一个阶段，且key匹配预定义阶段，就返回它\n      if (!milestone && milestones.value.length === 1) {\n        const predefined = predefinedMilestones.find(p => p.key === key)\n        if (predefined) {\n          milestone = milestones.value[0]\n        }\n      }\n      \n      return milestone\n    }\n\n    \n    \n    // 判断阶段是否逾期\n    const isMilestoneOverdue = (milestone) => {\n      if (!milestone || !milestone.dueDate || milestone.status === 'COMPLETED') {\n        return false\n      }\n      const dueDate = new Date(milestone.dueDate)\n      const today = new Date()\n      return dueDate < today\n    }\n    \n    // 获取当前活动阶段索引\n    const currentActiveMilestoneIndex = computed(() => {\n      // 找到最后一个已完成的阶段\n      const completedMilestones = milestones.value.filter(m => m.status === 'COMPLETED')\n      if (completedMilestones.length === 0) {\n        return 0 // 没有完成的阶段，返回第一个阶段\n      }\n      \n      // 获取最后一个完成阶段的索引\n      const lastCompletedKey = completedMilestones[completedMilestones.length - 1].key\n      const lastCompletedIndex = predefinedMilestones.findIndex(m => m.key === lastCompletedKey)\n      \n      // 如果所有阶段都已完成，返回最后一个阶段\n      if (lastCompletedIndex === predefinedMilestones.length - 1) {\n        return lastCompletedIndex\n      }\n      \n      // 否则返回下一个未完成的阶段\n      return lastCompletedIndex + 1\n    })\n    \n    // 获取阶段相关的文件\n    const getMilestoneFiles = (milestoneKey) => {\n      return files.value.filter(file => file.milestoneKey === milestoneKey)\n    }\n    \n    // 初始化项目阶段\n    const initProjectMilestones = async () => {\n      try {\n        // 为每个预定义阶段创建初始记录\n        for (const predefined of predefinedMilestones) {\n          const existingMilestone = getMilestoneById(predefined.key)\n          if (!existingMilestone) {\n            await addProjectMilestone(projectId.value, {\n              name: predefined.name,\n              key: predefined.key,\n              status: 'PENDING'\n            })\n          }\n        }\n        await loadProjectMilestones()\n        ElMessage.success('项目阶段初始化成功')\n      } catch (error) {\n        console.error('初始化项目阶段失败:', error)\n        ElMessage.error('初始化项目阶段失败')\n      }\n    }\n    \n\n    \n    // 格式化文件大小\n    const formatFileSize = (size) => {\n      if (!size) return '0 B'\n      const units = ['B', 'KB', 'MB', 'GB', 'TB']\n      let i = 0\n      while (size >= 1024 && i < units.length - 1) {\n        size /= 1024\n        i++\n      }\n      return `${size.toFixed(2)} ${units[i]}`\n    }\n    \n    // 加载项目详情\n    const loadProjectDetail = async () => {\n      loading.value = true\n      try {\n        const res = await getProjectById(projectId.value)\n        // 从响应对象中提取data部分，这是实际的项目数据\n        Object.assign(project, res.data || res)\n        console.log('项目详情:', project)\n        \n        // 如果有leaderId但没有leaderName，则尝试获取负责人姓名\n        if (project.leaderId && !project.leaderName) {\n          try {\n            // 尝试从成员列表中查找负责人信息\n            const membersRes = await getProjectMembers(projectId.value)\n            const membersData = Array.isArray(membersRes) ? membersRes : (membersRes?.data || [])\n            const leader = membersData.find(m => m.userId === project.leaderId)\n            \n            if (leader && leader.realName) {\n              project.leaderName = leader.realName\n            } else {\n              // 如果从成员列表中找不到，则尝试通过用户ID直接获取用户信息\n                try {\n                  const userRes = await getUserDetailAtProject(project.leaderId)\n                  const userData = userRes.data || userRes\n                  if (userData.realName) {\n                    project.leaderName = userData.realName\n                  } else {\n                    project.leaderName = '未知负责人'\n                  }\n                } catch (userError) {\n                  console.warn('获取用户信息失败:', userError)\n                  project.leaderName = '未知负责人'\n                }\n            }\n          } catch (memberError) {\n            console.warn('获取成员列表失败:', memberError)\n            project.leaderName = '未知负责人'\n          }\n        }\n      } catch (error) {\n        console.error('加载项目详情失败:', error)\n        ElMessage.error('加载项目详情失败')\n      } finally {\n        loading.value = false\n      }\n    }\n    \n    // 加载项目成员\n    const loadProjectMembers = async () => {\n      try {\n        const res = await getProjectMembers(projectId.value)\n        console.log('项目成员响应:', res)\n        // 确保返回值始终是数组\n        let memberList = Array.isArray(res) ? res : (res?.data || [])\n        \n        // 为每个成员获取用户详细信息\n        const membersWithUserInfo = await Promise.all(\n          memberList.map(async (member) => {\n            try {\n              // 使用getUserDetailAtProject获取用户详细信息\n              const userRes = await getUserDetailAtProject(member.userId)\n              console.log('获取成员用户信息:', userRes)\n              const userInfo = userRes?.data || userRes\n              \n              // 将用户详细信息合并到成员对象中\n              return {\n                ...member,\n                realName: userInfo.realName || '未知',\n                studentId: userInfo.studentId || userInfo.teacherId || '未知',\n                department: userInfo.department || '未知'\n              }\n            } catch (error) {\n              console.error(`获取用户${member.userId}信息失败:`, error)\n              // 出错时返回原始成员信息，避免影响整个列表\n              return {\n                ...member,\n                realName: '未知',\n                studentId: '未知',\n                department: '未知'\n              }\n            }\n          })\n        )\n        \n        members.value = membersWithUserInfo\n      } catch (error) {\n        console.error('加载项目成员失败:', error)\n        ElMessage.error('加载项目成员失败')\n        members.value = [] // 出错时确保仍是数组\n      }\n    }\n    \n    // 加载可用学生列表（未加入项目的学生）\n    const loadAvailableStudents = async () => {\n      try {\n        // 使用新的接口获取学生列表，教师也可以访问\n        const res = await getAvailableStudents()\n        // 确保返回值始终是数组\n        const students = Array.isArray(res) ? res : (res?.data || [])\n        const memberIds = members.value.map(m => m.userId)\n        availableStudents.value = students.filter(student => !memberIds.includes(student.id))\n      } catch (error) {\n        console.error('加载学生列表失败:', error)\n        ElMessage.error('加载学生列表失败')\n        availableStudents.value = [] // 出错时确保仍是数组\n      }\n    }\n    \n    // 加载项目阶段\n    const loadProjectMilestones = async () => {\n      try {\n        console.log('开始获取项目阶段数据，项目ID:', projectId.value)\n        const startTime = Date.now()\n        const res = await getProjectMilestones(projectId.value)\n        const endTime = Date.now()\n        \n        console.log(`API调用耗时: ${endTime - startTime}ms`)\n        console.log('API返回原始响应:', JSON.stringify(res))\n        \n        // 检查响应结构\n        console.log('响应类型:', typeof res)\n        console.log('响应是否有data属性:', res && res.hasOwnProperty('data'))\n        console.log('data属性类型:', res && typeof res.data)\n        \n        // 确保返回值始终是数组\n        milestones.value = Array.isArray(res) ? res : (res?.data || [])\n        console.log('处理后的项目阶段数据:', JSON.stringify(milestones.value))\n        console.log('阶段数据长度:', milestones.value.length)\n        \n        // 如果有数据，打印第一条数据的详细信息\n        if (milestones.value.length > 0) {\n          console.log('第一条阶段数据详情:', JSON.stringify(milestones.value[0]))\n          console.log('是否包含dueDate字段:', milestones.value[0].hasOwnProperty('dueDate'))\n        }\n      } catch (error) {\n        console.error('加载项目阶段失败:', error)\n        console.error('错误详情:', error.response ? JSON.stringify(error.response) : error.message)\n        ElMessage.error('加载项目阶段失败')\n        milestones.value = [] // 出错时确保仍是数组\n      }\n    }\n    \n    // 加载项目文件\n    const loadProjectFiles = async () => {\n      try {\n        const res = await getProjectFiles(projectId.value)\n        // 确保返回值始终是数组\n        files.value = Array.isArray(res) ? res : (res?.data || [])\n      } catch (error) {\n        console.error('加载项目文件失败:', error)\n        ElMessage.error('加载项目文件失败')\n        files.value = [] // 出错时确保仍是数组\n      }\n    }\n    \n    // 邀请成员\n    const handleInviteMember = async () => {\n      if (!inviteFormRef.value) return\n      \n      await inviteFormRef.value.validate(async (valid) => {\n        if (valid) {\n          try {\n            await addProjectMember(projectId.value, inviteForm.userId)\n            ElMessage.success('邀请成员成功')\n            showInviteDialog.value = false\n            await loadProjectMembers()\n            await loadAvailableStudents()\n            \n            // 重置表单\n            inviteForm.userId = ''\n          } catch (error) {\n            console.error('邀请成员失败:', error)\n            ElMessage.error('邀请成员失败')\n          }\n        }\n      })\n    }\n    \n    // 移除成员\n    const handleRemoveMember = async (member) => {\n      ElMessageBox.confirm('确定要移除该成员吗？', '确认移除', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        try {\n          await removeProjectMember(projectId.value, member.userId)\n          ElMessage.success('移除成员成功')\n          await loadProjectMembers()\n          await loadAvailableStudents()\n        } catch (error) {\n          console.error('移除成员失败:', error)\n          ElMessage.error('移除成员失败')\n        }\n      })\n    }\n    \n    // 编辑阶段\n    const editMilestone = (milestone) => {\n      editingMilestone.value = milestone\n      Object.assign(milestoneForm, {\n        name: milestone.name,\n        dueDate: milestone.dueDate || '',\n        description: milestone.description || '',\n        key: milestone.key\n      })\n      showAddMilestoneDialog.value = true\n    }\n    \n    // 保存阶段\n    const handleSaveMilestone = async () => {\n      if (!milestoneFormRef.value) return\n      \n      await milestoneFormRef.value.validate(async (valid) => {\n        if (valid) {\n          try {\n            // 确保包含key字段\n            const saveData = { ...milestoneForm }\n            \n            // 查找对应的阶段对象以获取id\n            let milestoneId = null\n            if (editingMilestone.value) {\n              // 尝试通过key查找对应的阶段id\n              if (editingMilestone.value.key) {\n                const existingMilestone = milestones.value.find(m => {\n                  // 先尝试直接匹配key\n                  const milestoneObj = getMilestoneById(editingMilestone.value.key)\n                  return milestoneObj && milestoneObj.id\n                })\n                if (existingMilestone && getMilestoneById(editingMilestone.value.key)) {\n                  milestoneId = getMilestoneById(editingMilestone.value.key).id\n                }\n              }\n              // 如果有直接的id字段，优先使用\n              if (editingMilestone.value.id) {\n                milestoneId = editingMilestone.value.id\n              }\n            }\n            \n            if (milestoneId) {\n              // 编辑阶段\n              await updateProjectMilestone(projectId.value, milestoneId, saveData)\n              ElMessage.success('更新阶段成功')\n            } else {\n              // 添加阶段\n              await addProjectMilestone(projectId.value, saveData)\n              ElMessage.success('添加阶段成功')\n            }\n            \n            showAddMilestoneDialog.value = false\n            await loadProjectMilestones()\n            \n            // 重置表单\n            editingMilestone.value = null\n            milestoneForm.name = ''\n            milestoneForm.dueDate = ''\n            milestoneForm.description = ''\n            milestoneForm.key = ''\n          } catch (error) {\n            console.error('保存阶段失败:', error)\n            // 尝试获取更具体的错误信息\n            const errorMessage = error.response?.data?.msg || '保存阶段失败'\n            ElMessage.error(errorMessage)\n          }\n        }\n      })\n    }\n    \n    // 更新阶段状态\n    const handleUpdateMilestoneStatus = async (milestone, status) => {\n      // 根据状态生成对应的确认消息\n      let statusText = ''\n      if (status === 'COMPLETED') {\n        statusText = '已完成'\n      } else if (status === 'PENDING') {\n        statusText = '待完成'\n      } else if (status === 'OVERDUE') {\n        statusText = '已逾期'\n      }\n      \n      ElMessageBox.confirm(`确定要将该阶段标记为${statusText}吗？`, '确认操作', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        try {\n          await updateProjectMilestone(projectId.value, milestone.id, { status })\n          ElMessage.success('更新阶段状态成功')\n          await loadProjectMilestones()\n        } catch (error) {\n          console.error('更新阶段状态失败:', error)\n          const errorMessage = error.response?.data?.msg || '更新阶段状态失败'\n          ElMessage.error(errorMessage)\n        }\n      })\n    }\n    \n    // 删除阶段 - 暂时禁用，因为我们使用预定义阶段\n    const handleDeleteMilestone = async (milestone) => {\n      ElMessage.warning('预定义阶段不允许删除，请编辑或更新状态')\n    }\n    \n    // 文件上传成功\n    const handleFileUploadSuccess = async () => {\n      ElMessage.success('文件上传成功')\n      await loadProjectFiles()\n    }\n    \n    // 阶段文件上传成功\n    const handleMilestoneFileUploadSuccess = async (response) => {\n      ElMessage.success('文件上传成功')\n      await loadProjectFiles()\n    }\n    \n    // 文件上传失败\n    const handleFileUploadError = () => {\n      ElMessage.error('文件上传失败')\n    }\n    \n    // 删除文件\n    const handleDeleteFile = async (file) => {\n      ElMessageBox.confirm('确定要删除该文件吗？', '确认删除', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        try {\n          await deleteProjectFile(projectId.value, file.id)\n          ElMessage.success('删除文件成功')\n          await loadProjectFiles()\n        } catch (error) {\n          console.error('删除文件失败:', error)\n          ElMessage.error('删除文件失败')\n        }\n      })\n    }\n    \n    // 编辑项目\n    const handleEdit = () => {\n      router.push(`/dashboard/projects/${projectId.value}/edit`)\n    }\n    \n    // 过滤学生的方法\n    const filterStudentMethod = (query, option) => {\n      // 从option中获取label文本\n      const label = option.label || '';\n      // 将查询字符串和标签文本都转为小写进行匹配\n      return label.toLowerCase().includes(query.toLowerCase());\n    }\n\n    // 返回列表\n    const handleBack = () => {\n      router.push('/dashboard/projects')\n    }\n    \n    // 监听邀请对话框打开，加载可用学生列表\n    watch(showInviteDialog, (newVal) => {\n      if (newVal) {\n        loadAvailableStudents()\n      }\n    })\n    \n    // 监听阶段对话框关闭，重置表单\n    watch(showAddMilestoneDialog, (newVal) => {\n      if (!newVal && milestoneFormRef.value) {\n        milestoneFormRef.value.resetFields()\n        editingMilestone.value = null\n        milestoneForm.name = ''\n        milestoneForm.dueDate = ''\n        milestoneForm.description = ''\n      }\n    })\n    \n    // 监听标签页切换，加载对应数据\n    watch(activeTab, (newVal) => {\n      if (newVal === 'members') {\n        loadProjectMembers()\n      } else if (newVal === 'milestones') {\n        loadProjectMilestones()\n      } else if (newVal === 'files') {\n        loadProjectFiles()\n      }\n    })\n    \n    onMounted(async () => {\n      // 先加载项目详情，确保project对象有数据\n      await loadProjectDetail()\n      await loadProjectMembers()\n      await loadProjectMilestones() // 加载项目阶段数据，确保阶段截止日期能正确显示\n      await loadProjectFiles() // 加载项目文件列表，确保在milestones标签页中也能显示文件\n      \n      // 页面加载完成后验证用户状态和权限\n      setTimeout(() => {\n        validateUserStatus();\n      }, 500); // 稍微延迟执行，确保所有数据都已加载\n    })\n\n    // 添加计算属性来确保 headers 正确设置\n    const uploadHeaders = computed(() => {\n      const token = store.getters.token;\n      console.log('上传文件时的Token:', token); // 调试日志\n      return {\n        'Authorization': `Bearer ${token}`\n      };\n    });\n\n    const uploadData = computed(() => {\n      return {\n        projectId: projectId.value,\n        milestoneId: '', // 根据实际情况设置\n        milestoneKey: '', // 根据实际情况设置\n        uploaderId: userId.value\n      };\n    });\n\n    // 获取阶段上传数据\n    const getMilestoneUploadData = (milestoneKey) => {\n      const milestone = getMilestoneById(milestoneKey)\n      return {\n        projectId: projectId.value,\n        milestoneId: milestone ? milestone.id : 0, // 确保是数字，不是 undefined\n        milestoneKey: milestoneKey,\n        uploaderId: userId.value\n      }\n    }\n\n    // 获取通用上传数据\n    const getGeneralUploadData = () => {\n      return {\n        projectId: projectId.value,\n        milestoneId: 0, // 通用文件使用默认 milestoneId\n        uploaderId: userId.value\n      }\n    }\n    \n    return {\n      loading,\n      project,\n      members,\n      milestones,\n      files,\n      availableStudents,\n      activeTab,\n      showInviteDialog,\n      showAddMilestoneDialog,\n      editingMilestone,\n      inviteForm,\n      predefinedMilestones,\n      milestoneForm,\n      inviteRules,\n      milestoneRules,\n      inviteFormRef,\n      milestoneFormRef,\n      token,\n      canEdit,\n      uploadUrl,\n      currentActiveMilestoneIndex,\n      uploadHeaders,\n      uploadData,\n      getTypeName,\n      getTypeTag,\n      getLevelName,\n      getLevelTag,\n      getStatusName,\n      getStatusTag,\n      getMilestoneStatusName,\n      getMilestoneStatusTag,\n      getMilestoneById,\n      isMilestoneOverdue,\n      getMilestoneFiles,\n      initProjectMilestones,\n      formatFileSize,\n      handleInviteMember,\n      handleRemoveMember,\n      editMilestone,\n      handleSaveMilestone,\n      handleUpdateMilestoneStatus,\n      handleDeleteMilestone,\n      handleFileUploadSuccess,\n      handleFileUploadError,\n      handleDeleteFile,\n      handleEdit,\n      handleBack,\n      validateUserStatus,\n      filterStudentMethod,\n      getMilestoneUploadData,\n      getGeneralUploadData\n    }\n  }\n}\n</script>\n\n<style scoped>\n.project-detail {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.page-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.page-header h1 {\n  margin: 0;\n  color: #2c3e50;\n}\n\n.header-actions {\n  display: flex;\n  gap: 10px;\n}\n\n.info-card {\n  margin-bottom: 20px;\n}\n\n.info-content {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n.info-row {\n  display: flex;\n  gap: 30px;\n  flex-wrap: wrap;\n}\n\n.info-row.full-width {\n  flex-direction: column;\n}\n\n.info-item {\n  display: flex;\n  align-items: flex-start;\n  gap: 8px;\n}\n\n.info-item.full-width {\n  width: 100%;\n}\n\n.info-item label {\n  font-weight: 500;\n  color: #606266;\n  white-space: nowrap;\n}\n\n.description-content {\n  color: #303133;\n  line-height: 1.6;\n  min-height: 60px;\n}\n\n.project-tabs {\n  margin-top: 20px;\n}\n\n.tab-content {\n  padding: 20px;\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.tab-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n}\n\n.tab-header h3 {\n  margin: 0;\n  color: #2c3e50;\n}\n\n.upload-demo {\n  width: 100%;\n}\n\n/* 减小上传区域高度为原来的一半 */\n.upload-demo .el-upload-dragger {\n  height: 100px !important; /* 默认为200px，减小到100px */\n  line-height: 100px;\n}\n\n.upload-demo .el-icon--upload {\n  font-size: 24px;\n  margin-bottom: 5px;\n}\n\n.dialog-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n}\n\n/* 里程碑样式 - 横向排列 */\n.milestone-timeline {\n  margin-top: 20px;\n  padding: 20px 0;\n}\n\n.milestone-container {\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  position: relative;\n  min-height: 200px;\n}\n\n.milestone-container::before {\n  content: '';\n  position: absolute;\n  top: 30px;\n  left: 60px;\n  right: 60px;\n  height: 4px;\n  background-color: #e0e0e0;\n  z-index: 0;\n}\n\n.milestone-node {\n  flex: 1;\n  max-width: 200px;\n  padding: 15px;\n  border: 1px solid #e0e0e0;\n  border-radius: 8px;\n  transition: all 0.3s ease;\n  position: relative;\n  z-index: 1;\n  margin: 0 10px;\n  background-color: white;\n}\n\n.milestone-node:hover {\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  transform: translateY(-2px);\n}\n\n.milestone-node.completed {\n  border-color: #67c23a;\n  background-color: #f0f9ff;\n}\n\n.milestone-node.pending {\n  border-color: #409eff;\n  background-color: #ecf5ff;\n}\n\n.milestone-node.overdue {\n  border-color: #f56c6c;\n  background-color: #fef0f0;\n}\n\n.milestone-node.active {\n  box-shadow: 0 4px 12px rgba(64, 158, 255, 0.2);\n}\n\n/* 连接线 */\n.milestone-node:not(:last-child)::after {\n  content: '';\n  position: absolute;\n  top: 30px;\n  right: -30px;\n  width: 30px;\n  height: 4px;\n  background-color: #409eff;\n}\n\n.milestone-node.completed:not(:last-child)::after {\n  background-color: #67c23a;\n}\n\n.milestone-node.overdue:not(:last-child)::after {\n  background-color: #f56c6c;\n}\n\n.milestone-header {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  gap: 10px;\n  margin-bottom: 10px;\n}\n\n.milestone-number {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background-color: #409eff;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: bold;\n  margin-bottom: 10px;\n}\n\n.milestone-node.completed .milestone-number {\n  background-color: #67c23a;\n}\n\n.milestone-node.overdue .milestone-number {\n  background-color: #f56c6c;\n}\n\n.milestone-info {\n  text-align: center;\n}\n\n.milestone-info h4 {\n  margin: 0 0 5px 0;\n  font-size: 14px;\n  word-wrap: break-word;\n}\n\n.milestone-due-date {\n  font-size: 12px;\n  color: #606266;\n}\n\n.milestone-content {\n  margin-top: 10px;\n  padding-top: 10px;\n  border-top: 1px solid #e0e0e0;\n  font-size: 12px;\n}\n\n.milestone-description {\n  margin-bottom: 10px;\n}\n\n.milestone-description p {\n  margin: 5px 0 0 0;\n  line-height: 1.4;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n\n.milestone-files {\n  margin-top: 10px;\n  font-size: 12px;\n}\n\n.milestone-file-list {\n  margin-top: 5px;\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  font-size: 11px;\n}\n\n.file-item {\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  padding: 5px;\n  background-color: #f5f7fa;\n  border-radius: 4px;\n}\n\n.file-item a {\n  flex: 1;\n  color: #409eff;\n  text-decoration: none;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.file-item a:hover {\n  text-decoration: underline;\n}\n</style>","import { render } from \"./ProjectDetail.vue?vue&type=template&id=43480da2&scoped=true\"\nimport script from \"./ProjectDetail.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectDetail.vue?vue&type=script&lang=js\"\n\nimport \"./ProjectDetail.vue?vue&type=style&index=0&id=43480da2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-43480da2\"]])\n\nexport default __exports__"],"names":["getUserList","params","url","method","updateUser","id","data","deleteUser","updateUserStatus","status","approveUser","rejectUser","resetUserPassword","getAllProjects","getProjectById","createProject","updateProject","deleteProject","addProjectMember","projectId","userId","memberId","role","removeProjectMember","getProjectMembers","addProjectMilestone","updateProjectMilestone","milestoneId","getProjectMilestones","getProjectFiles","deleteProjectFile","fileId","getUserDetailAtProject","getAvailableStudents","class","project","name","handleBack","type","handleEdit","getTypeTag","getTypeName","getLevelTag","level","getLevelName","getStatusTag","getStatusName","leaderName","funding","toLocaleString","startDate","endDate","description","loading","activeTab","label","showInviteDialog","members","style","prop","width","default","scope","row","fixed","canEdit","size","handleRemoveMember","milestones","length","initProjectMilestones","predefinedMilestones","milestone","index","key","getMilestoneById","dueDate","getMilestoneStatusTag","getMilestoneStatusName","includes","editMilestone","action","uploadUrl","headers","token","handleMilestoneFileUploadSuccess","handleFileUploadError","getMilestoneUploadData","disabled","drag","getMilestoneFiles","file","href","fileUrl","target","fileName","icon","handleDeleteFile","handleUpdateMilestoneStatus","uploadHeaders","handleFileUploadSuccess","getGeneralUploadData","files","formatFileSize","fileSize","title","footer","handleInviteMember","model","inviteForm","rules","inviteRules","ref","placeholder","filterStudentMethod","clearable","availableStudents","student","realName","studentId","value","editingMilestone","showAddMilestoneDialog","handleSaveMilestone","milestoneForm","milestoneRules","maxlength","format","rows","setup","router","route","inviteFormRef","milestoneFormRef","required","message","trigger","min","max","store","getters","getUserInfo","userInfoStr","localStorage","getItem","JSON","parse","console","warn","roles","error","userInfo","log","userRole","currentUserId","Number","projectLeaderId","leaderId","isAdmin","isProjectLeader","result","Boolean","validateUserStatus","typeMap","tagMap","levelMap","statusMap","find","m","predefined","p","isMilestoneOverdue","Date","today","currentActiveMilestoneIndex","completedMilestones","filter","lastCompletedKey","lastCompletedIndex","findIndex","milestoneKey","async","existingMilestone","loadProjectMilestones","success","units","i","toFixed","loadProjectDetail","res","Object","assign","membersRes","membersData","Array","isArray","leader","userRes","userData","userError","memberError","loadProjectMembers","memberList","membersWithUserInfo","Promise","all","map","member","teacherId","department","loadAvailableStudents","students","memberIds","startTime","now","endTime","stringify","hasOwnProperty","response","loadProjectFiles","validate","valid","confirm","confirmButtonText","cancelButtonText","then","saveData","milestoneObj","errorMessage","msg","statusText","handleDeleteMilestone","warning","push","query","option","toLowerCase","newVal","resetFields","setTimeout","uploadData","uploaderId","__exports__","render"],"sourceRoot":""}