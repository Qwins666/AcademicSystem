{"version":3,"file":"js/781.8e65f050.js","mappings":"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","sources":["webpack://academic-management-frontend/./src/views/project/ProjectForm.vue","webpack://academic-management-frontend/./src/views/project/ProjectForm.vue?9e25","webpack://academic-management-frontend/./src/api/project.js"],"sourcesContent":["<template>\r\n  <div class=\"project-form\">\r\n    <div class=\"page-header\">\r\n      <h1>{{ isEdit ? '编辑项目' : '创建项目' }}</h1>\r\n      <el-button @click=\"handleBack\">\r\n        <el-icon><ArrowLeft /></el-icon>\r\n        返回\r\n      </el-button>\r\n    </div>\r\n\r\n    <div class=\"form-container\">\r\n      <el-form\r\n        ref=\"formRef\"\r\n        :model=\"form\"\r\n        :rules=\"rules\"\r\n        label-width=\"120px\"\r\n        @submit.prevent=\"handleSubmit\"\r\n      >\r\n        <el-form-item label=\"项目名称\" prop=\"name\">\r\n          <el-input\r\n            v-model=\"form.name\"\r\n            placeholder=\"请输入项目名称\"\r\n            maxlength=\"200\"\r\n            show-word-limit\r\n          />\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"项目类型\" prop=\"type\">\r\n          <el-select v-model=\"form.type\" placeholder=\"请选择项目类型\" style=\"width: 100%\">\r\n            <el-option label=\"研究项目\" value=\"RESEARCH\" />\r\n            <el-option label=\"创新项目\" value=\"INNOVATION\" />\r\n            <el-option label=\"实践项目\" value=\"PRACTICE\" />\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"项目描述\" prop=\"description\">\r\n          <el-input\r\n            v-model=\"form.description\"\r\n            type=\"textarea\"\r\n            :rows=\"4\"\r\n            placeholder=\"请输入项目描述\"\r\n            maxlength=\"1000\"\r\n            show-word-limit\r\n          />\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"项目级别\" prop=\"level\">\r\n          <el-select v-model=\"form.level\" placeholder=\"请选择项目级别\" style=\"width: 100%\">\r\n            <el-option label=\"国家级\" value=\"NATIONAL\" />\r\n            <el-option label=\"省级\" value=\"PROVINCIAL\" />\r\n            <el-option label=\"校级\" value=\"SCHOOL\" />\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"项目经费\">\r\n          <el-input-number\r\n            v-model=\"form.funding\"\r\n            :min=\"0\"\r\n            :max=\"10000000\"\r\n            placeholder=\"请输入项目经费\"\r\n            style=\"width: 100%\"\r\n            :precision=\"2\"\r\n          />\r\n        </el-form-item>\r\n\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"开始日期\" prop=\"startDate\">\r\n              <el-date-picker\r\n                v-model=\"form.startDate\"\r\n                type=\"date\"\r\n                placeholder=\"选择开始日期\"\r\n                style=\"width: 100%\"\r\n                format=\"YYYY-MM-DD\"\r\n                value-format=\"YYYY-MM-DD\"\r\n              />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"结束日期\" prop=\"endDate\">\r\n              <el-date-picker\r\n                v-model=\"form.endDate\"\r\n                type=\"date\"\r\n                placeholder=\"选择结束日期\"\r\n                style=\"width: 100%\"\r\n                format=\"YYYY-MM-DD\"\r\n                value-format=\"YYYY-MM-DD\"\r\n              />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <el-form-item label=\"项目状态\" prop=\"status\">\r\n          <el-radio-group v-model=\"form.status\">\r\n            <el-radio label=\"PLANNING\">规划中</el-radio>\r\n            <el-radio label=\"ONGOING\">进行中</el-radio>\r\n            <el-radio label=\"COMPLETED\">已完成</el-radio>\r\n            <el-radio label=\"CANCELLED\">已取消</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button type=\"primary\" :loading=\"loading\" @click=\"handleSubmit\">\r\n            {{ isEdit ? '更新' : '创建' }}\r\n          </el-button>\r\n          <el-button @click=\"handleReset\">重置</el-button>\r\n          <el-button @click=\"handleBack\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, computed, onMounted } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { ElMessage } from 'element-plus'\r\nimport { createProject, updateProject, getProjectById } from '@/api/project'\r\n\r\nexport default {\r\n  name: 'ProjectForm',\r\n  setup() {\r\n    const router = useRouter()\r\n    const route = useRoute()\r\n    \r\n    const formRef = ref()\r\n    const loading = ref(false)\r\n    \r\n    const isEdit = computed(() => !!route.params.id)\r\n    \r\n    const form = reactive({\r\n      name: '',\r\n      type: '',\r\n      description: '',\r\n      level: '',\r\n      funding: 0,\r\n      startDate: '',\r\n      endDate: '',\r\n      status: 'PLANNING'\r\n    })\r\n    \r\n    const rules = {\r\n      name: [\r\n        { required: true, message: '请输入项目名称', trigger: 'blur' },\r\n        { min: 2, max: 200, message: '名称长度在2到200个字符', trigger: 'blur' }\r\n      ],\r\n      type: [\r\n        { required: true, message: '请选择项目类型', trigger: 'change' }\r\n      ],\r\n      description: [\r\n        { required: true, message: '请输入项目描述', trigger: 'blur' },\r\n        { min: 10, max: 1000, message: '描述长度在10到1000个字符', trigger: 'blur' }\r\n      ],\r\n      level: [\r\n        { required: true, message: '请选择项目级别', trigger: 'change' }\r\n      ],\r\n      startDate: [\r\n        { required: true, message: '请选择开始日期', trigger: 'change' }\r\n      ],\r\n      endDate: [\r\n        { required: true, message: '请选择结束日期', trigger: 'change' }\r\n      ],\r\n      status: [\r\n        { required: true, message: '请选择项目状态', trigger: 'change' }\r\n      ]\r\n    }\r\n    \r\n    const loadProjectData = async () => {\r\n      if (isEdit.value) {\r\n        try {\r\n          // 调用API获取项目详情\r\n          const projectId = route.params.id\r\n          const res = await getProjectById(projectId)\r\n          console.log('获取项目详情响应:', res)\r\n          \r\n          // 更新表单数据 - 处理可能的嵌套数据结构\r\n          let projectData = res\r\n          // 检查是否需要从res.data中获取实际项目数据\r\n          if (res && res.data) {\r\n            projectData = res.data\r\n          }\r\n          \r\n          if (projectData && projectData.id) {\r\n            Object.assign(form, projectData)\r\n          } else {\r\n            throw new Error('获取项目数据失败')\r\n          }\r\n        } catch (error) {\r\n          console.error('加载项目数据失败:', error)\r\n          ElMessage.error('加载项目数据失败')\r\n        }\r\n      }\r\n    }\r\n    \r\n    const handleSubmit = async () => {\r\n      if (!formRef.value) return\r\n      \r\n      await formRef.value.validate(async (valid) => {\r\n        if (valid) {\r\n          loading.value = true\r\n          try {\r\n            // 准备提交的数据\r\n            const submitData = { ...form }\r\n            console.log('提交数据:', submitData)\r\n            \r\n            // 根据是编辑还是创建操作调用不同的API\r\n            if (isEdit.value) {\r\n              // 正确调用updateProject，传递id和数据两个参数\r\n              const projectId = route.params.id\r\n              await updateProject(projectId, submitData)\r\n              ElMessage.success('项目更新成功')\r\n            } else {\r\n              await createProject(submitData)\r\n              ElMessage.success('项目创建成功')\r\n            }\r\n            \r\n            router.push('/dashboard/projects')\r\n          } catch (error) {\r\n            console.error('操作失败:', error)\r\n            ElMessage.error(error.response?.data?.message || '操作失败')\r\n          } finally {\r\n            loading.value = false\r\n          }\r\n        }\r\n      })\r\n    }\r\n    \r\n    const handleReset = () => {\r\n      if (formRef.value) {\r\n        formRef.value.resetFields()\r\n      }\r\n    }\r\n    \r\n    const handleBack = () => {\r\n      router.push('/dashboard/projects')\r\n    }\r\n    \r\n    onMounted(() => {\r\n      loadProjectData()\r\n    })\r\n    \r\n    return {\r\n      formRef,\r\n      loading,\r\n      isEdit,\r\n      form,\r\n      rules,\r\n      handleSubmit,\r\n      handleReset,\r\n      handleBack\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.project-form {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.page-header h1 {\r\n  margin: 0;\r\n  color: #2c3e50;\r\n}\r\n\r\n.form-container {\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  padding: 30px;\r\n}\r\n</style>\r\n","import { render } from \"./ProjectForm.vue?vue&type=template&id=ed4330f0&scoped=true\"\nimport script from \"./ProjectForm.vue?vue&type=script&lang=js\"\nexport * from \"./ProjectForm.vue?vue&type=script&lang=js\"\n\nimport \"./ProjectForm.vue?vue&type=style&index=0&id=ed4330f0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ed4330f0\"]])\n\nexport default __exports__","import request from './request'\n\n// 获取所有项目\nexport function getAllProjects(params = {}) {\n  return request({\n    url: '/projects',\n    method: 'get',\n    params\n  })\n}\n\n// 获取项目详情\nexport function getProjectById(id) {\n  return request({\n    url: `/projects/${id}`,\n    method: 'get'\n  })\n}\n\n// 创建项目\nexport function createProject(data) {\n  return request({\n    url: '/projects',\n    method: 'post',\n    data\n  })\n}\n\n// 更新项目\nexport function updateProject(id, data) {\n  return request({\n    url: `/projects/${id}`,\n    method: 'put',\n    data\n  })\n}\n\n// 删除项目\nexport function deleteProject(id) {\n  return request({\n    url: `/projects/${id}`,\n    method: 'delete'\n  })\n}\n\n// 根据负责人ID获取项目\nexport function getProjectsByLeaderId(leaderId) {\n  return request({\n    url: `/projects/leader/${leaderId}`,\n    method: 'get'\n  })\n}\n\n// 根据成员ID获取项目\nexport function getProjectsByMemberId(memberId) {\n  return request({\n    url: `/projects/member/${memberId}`,\n    method: 'get'\n  })\n}\n\n// 添加项目成员\nexport function addProjectMember(projectId, userId) {\n  return request({\n    url: `/projects/${projectId}/members`,\n    method: 'post',\n    data: { memberId: userId, role: 'MEMBER' } // 使用memberId参数名并添加role参数\n  })\n}\n\n// 移除项目成员\nexport function removeProjectMember(projectId, userId) {\n  return request({\n    url: `/projects/${projectId}/members/${userId}`,\n    method: 'delete'\n  })\n}\n\n// 获取项目成员列表\nexport function getProjectMembers(projectId) {\n  return request({\n    url: `/projects/${projectId}/members`,\n    method: 'get'\n  })\n}\n\n// 根据类型获取项目\nexport function getProjectsByType(type) {\n  return request({\n    url: `/projects/type/${type}`,\n    method: 'get'\n  })\n}\n\n// 根据状态获取项目\nexport function getProjectsByStatus(status) {\n  return request({\n    url: `/projects/status/${status}`,\n    method: 'get'\n  })\n}\n\n// 添加项目里程碑\nexport function addProjectMilestone(projectId, data) {\n  return request({\n    url: `/projects/${projectId}/milestones`,\n    method: 'post',\n    data\n  })\n}\n\n// 更新项目里程碑\nexport function updateProjectMilestone(projectId, milestoneId, data) {\n  return request({\n    url: `/projects/${projectId}/milestones/${milestoneId}`,\n    method: 'put',\n    data\n  })\n}\n\n// 删除项目里程碑\nexport function deleteProjectMilestone(projectId, milestoneId) {\n  return request({\n    url: `/projects/${projectId}/milestones/${milestoneId}`,\n    method: 'delete'\n  })\n}\n\n// 获取项目里程碑列表\nexport function getProjectMilestones(projectId) {\n  return request({\n    url: `/projects/${projectId}/milestones`,\n    method: 'get'\n  })\n}\n\n// 上传项目文件\nexport function uploadProjectFile(projectId, file, milestoneId, milestoneKey, uploaderId) {\n  const formData = new FormData()\n  formData.append('file', file)\n  formData.append('milestoneId', milestoneId || '')\n  formData.append('milestoneKey', milestoneKey || '')\n  formData.append('uploaderId', uploaderId)\n  return request({\n    url: `/projects/${projectId}/files`,\n    method: 'post',\n    data: formData,\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  })\n}\n\n// 获取项目文件列表\nexport function getProjectFiles(projectId) {\n  return request({\n    url: `/projects/${projectId}/files`,\n    method: 'get'\n  })\n}\n\n// 删除项目文件\nexport function deleteProjectFile(projectId, fileId) {\n  return request({\n    url: `/projects/${projectId}/files/${fileId}`,\n    method: 'delete'\n  })\n}\n\n// 更改项目状态\nexport function updateProjectStatus(projectId, status) {\n  return request({\n    url: `/projects/${projectId}/status`,\n    method: 'put',\n    data: { status }\n  })\n}\n\n// 获取项目负责人详情\nexport function getUserDetailAtProject(id) {\n  return request({\n    url: `/projects/leaderDetail/${id}`,\n    method: 'get'\n  })\n}\n\n// 获取可用学生列表（教师可访问）\nexport function getAvailableStudents() {\n  return request({\n    url: '/projects/available-students',\n    method: 'get'\n  })\n}"],"names":["class","isEdit","handleBack","ref","model","form","rules","handleSubmit","label","prop","name","placeholder","maxlength","type","style","value","description","rows","level","funding","min","max","precision","gutter","span","startDate","format","endDate","status","loading","handleReset","setup","router","route","formRef","params","id","required","message","trigger","loadProjectData","async","projectId","res","console","log","projectData","data","Error","Object","assign","error","validate","valid","submitData","success","push","response","resetFields","__exports__","render","getAllProjects","url","method","getProjectById","createProject","updateProject","deleteProject","addProjectMember","userId","memberId","role","removeProjectMember","getProjectMembers","addProjectMilestone","updateProjectMilestone","milestoneId","getProjectMilestones","getProjectFiles","deleteProjectFile","fileId","getUserDetailAtProject","getAvailableStudents"],"sourceRoot":""}