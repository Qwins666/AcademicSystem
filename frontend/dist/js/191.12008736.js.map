{"version":3,"file":"js/191.12008736.js","mappings":"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","sources":["webpack://academic-management-frontend/./src/api/user.js","webpack://academic-management-frontend/./src/api/achievement.js","webpack://academic-management-frontend/./src/api/statistics.js","webpack://academic-management-frontend/./src/api/activity.js","webpack://academic-management-frontend/./src/views/Home.vue","webpack://academic-management-frontend/./src/views/Home.vue?9051"],"sourcesContent":["import request from './request'\n\n// 获取用户列表\nexport function getUserList(params) {\n  return request({\n    url: '/users',\n    method: 'get',\n    params\n  })\n}\n\n// 获取用户详情\nexport function getUserDetail(id) {\n  return request({\n    url: `/users/${id}`,\n    method: 'get'\n  })\n}\n\n// 创建用户\nexport function createUser(data) {\n  return request({\n    url: '/users',\n    method: 'post',\n    data\n  })\n}\n\n// 更新用户\nexport function updateUser(id, data) {\n  return request({\n    url: `/users/${id}`,\n    method: 'put',\n    data\n  })\n}\n\n// 删除用户\nexport function deleteUser(id) {\n  return request({\n    url: `/users/${id}`,\n    method: 'delete'\n  })\n}\n\n// 更新用户状态\nexport function updateUserStatus(id, status) {\n  return request({\n    url: `/users/${id}/status`,\n    method: 'put',\n    data: { status }\n  })\n}\n\n// 更新用户角色\nexport function updateUserRole(id, role) {\n  return request({\n    url: `/users/${id}/role`,\n    method: 'put',\n    data: { role }\n  })\n}\n\n// 获取待审批用户列表\nexport function getPendingUsers() {\n  return request({\n    url: '/auth/pending-users',\n    method: 'get'\n  })\n}\n\n// 审批用户\nexport function approveUser(id) {\n  return request({\n    url: `/auth/approve-user/${id}`,\n    method: 'post'\n  })\n}\n\n// 拒绝用户申请\nexport function rejectUser(id) {\n  return request({\n    url: `/auth/reject-user/${id}`,\n    method: 'post'\n  })\n}\n\n// 重置用户密码\nexport function resetUserPassword(id) {\n  return request({\n    url: `/users/${id}/reset-password`,\n    method: 'put'\n  })\n}","import request from './request'\n\n// 获取成果列表\nexport function getAchievementList(params = {}) {\n  return request({\n    url: '/achievements',\n    method: 'get',\n    params\n  })\n}\n\n// 获取成果详情\nexport function getAchievementById(id) {\n  return request({\n    url: `/achievements/${id}`,\n    method: 'get'\n  })\n}\n\n// 创建成果\nexport function createAchievement(data) {\n  return request({\n    url: '/achievements',\n    method: 'post',\n    data\n  })\n}\n\n// 更新成果\nexport function updateAchievement(id, data) {\n  return request({\n    url: `/achievements/${id}`,\n    method: 'put',\n    data\n  })\n}\n\n// 删除成果\nexport function deleteAchievement(id) {\n  return request({\n    url: `/achievements/${id}`,\n    method: 'delete'\n  })\n}\n\n// 根据类型获取成果\nexport function getAchievementsByType(type) {\n  return request({\n    url: `/achievements/type/${type}`,\n    method: 'get'\n  })\n}\n\n// 根据级别获取成果\nexport function getAchievementsByLevel(level) {\n  return request({\n    url: `/achievements/level/${level}`,\n    method: 'get'\n  })\n}\n\n// 获取用户的成果列表\nexport function getUserAchievements(userId) {\n  return request({\n    url: `/achievements/submitter/${userId}`,\n    method: 'get'\n  })\n}\n\n// 上传成果文件\nexport function uploadAchievementFile(formData) {\n  return request({\n    url: '/achievements/upload-file',\n    method: 'post',\n    data: formData,\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  })\n}","import request from './request'\n\n// 获取系统概览数据\nexport function getSystemOverview() {\n  return request({\n    url: '/statistics/overview',\n    method: 'get'\n  })\n}\n\n// 获取项目总数\nexport function getTotalProjects() {\n  return request({\n    url: '/statistics/projects/total',\n    method: 'get'\n  })\n}\n\n// 获取项目按状态分布\nexport function getProjectsByStatus() {\n  return request({\n    url: '/statistics/projects/status',\n    method: 'get'\n  })\n}\n\n// 获取项目按类型分布\nexport function getProjectsByType() {\n  return request({\n    url: '/statistics/projects/type',\n    method: 'get'\n  })\n}\n\n// 获取项目趋势数据\nexport function getProjectTrend(startDate, endDate, period = 'month') {\n  return request({\n    url: '/statistics/projects/trend',\n    method: 'get',\n    params: {\n      startDate,\n      endDate,\n      period\n    }\n  })\n}\n\n// 获取活动总数\nexport function getTotalActivities() {\n  return request({\n    url: '/statistics/activities/total',\n    method: 'get'\n  })\n}\n\n// 获取活动按类型分布\nexport function getActivitiesByType() {\n  return request({\n    url: '/statistics/activities/type',\n    method: 'get'\n  })\n}\n\n// 获取活动参与总人数\nexport function getTotalParticipants() {\n  return request({\n    url: '/statistics/activities/participants',\n    method: 'get'\n  })\n}\n\n// 获取活动趋势数据\nexport function getActivityTrend(startDate, endDate, period = 'month') {\n  return request({\n    url: '/statistics/activities/trend',\n    method: 'get',\n    params: {\n      startDate,\n      endDate,\n      period\n    }\n  })\n}","import request from './request'\n\n// 获取活动列表\nexport function getActivityList(params = {}) {\n  return request({\n    url: '/activities',\n    method: 'get',\n    params\n  })\n}\n\n// 获取活动详情\nexport function getActivityById(id) {\n  return request({\n    url: `/activities/${id}`,\n    method: 'get'\n  })\n}\n\n// 创建活动\nexport function createActivity(data) {\n  return request({\n    url: '/activities',\n    method: 'post',\n    data\n  })\n}\n\n// 更新活动\nexport function updateActivity(id, data) {\n  return request({\n    url: `/activities/${id}`,\n    method: 'put',\n    data\n  })\n}\n\n// 删除活动\nexport function deleteActivity(id) {\n  return request({\n    url: `/activities/${id}`,\n    method: 'delete'\n  })\n}\n\n// 根据状态获取活动列表\nexport function getActivitiesByStatus(status) {\n  return request({\n    url: `/activities/status/${status}`,\n    method: 'get'\n  })\n}\n\n// 报名参加活动\nexport function joinActivity(activityId) {\n  return request({\n    url: `/activities/${activityId}/register`,\n    method: 'post',\n    data: {} // 添加空对象作为data参数，确保请求格式正确\n  })\n}\n\n// 取消活动报名\nexport function cancelJoinActivity(activityId) {\n  return request({\n    url: `/activities/${activityId}/cancel-register`,\n    method: 'post'\n  })\n}\n\n// 生成参与证明\nexport function generateCertificate(activityId) {\n  return request({\n    url: `/activities/${activityId}/certificate`,\n    method: 'get'\n  })\n}\n\n// 下载参与名单\nexport function downloadParticipants(activityId, type = 'excel') {\n  return request({\n    url: `/activities/${activityId}/participants/export`,\n    method: 'get',\n    params: {\n      type: type\n    },\n    responseType: 'blob' // 重要：设置响应类型为blob\n  })\n}","<template>\r\n  <div class=\"home-container\">\r\n    <!-- 欢迎信息 -->\r\n    <div class=\"welcome-section\">\r\n      <h1>欢迎使用学术活动与科研成果管理系统</h1>\r\n      <p>Welcome to Academic Activity & Research Achievement Management System</p>\r\n    </div>\r\n    \r\n    <!-- 统计卡片 -->\r\n    <div class=\"stats-section\">\r\n      <el-row :gutter=\"20\">\r\n        <el-col :xs=\"12\" :sm=\"6\" v-for=\"stat in stats\" :key=\"stat.key\">\r\n          <div class=\"stat-card\" :style=\"{ background: stat.color }\">\r\n            <div class=\"stat-icon\">\r\n              <el-icon :size=\"32\">\r\n                <component :is=\"stat.icon\" />\r\n              </el-icon>\r\n            </div>\r\n            <div class=\"stat-content\">\r\n              <div class=\"stat-number\">\r\n                <template v-if=\"loading\">\r\n                  <el-skeleton :rows=\"1\" animated />\r\n                </template>\r\n                <template v-else>\r\n                  {{ stat.value }}\r\n                </template>\r\n              </div>\r\n              <div class=\"stat-label\">{{ stat.label }}</div>\r\n            </div>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    \r\n    <!-- 快捷操作 -->\r\n    <div class=\"quick-actions\">\r\n      <h2>快捷操作</h2>\r\n      <el-row :gutter=\"20\">\r\n        <el-col :xs=\"12\" :sm=\"8\" :md=\"6\" v-for=\"action in quickActions\" :key=\"action.key\">\r\n          <el-card \r\n            class=\"action-card\" \r\n            :body-style=\"{ padding: '20px' }\"\r\n            @click=\"handleAction(action)\"\r\n          >\r\n            <div class=\"action-content\">\r\n              <el-icon :size=\"24\" class=\"action-icon\">\r\n                <component :is=\"action.icon\" />\r\n              </el-icon>\r\n              <div class=\"action-title\">{{ action.title }}</div>\r\n              <div class=\"action-desc\">{{ action.description }}</div>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    \r\n    <!-- 最近活动 -->\r\n    <div class=\"recent-section\">\r\n      <h2>最近活动</h2>\r\n      <el-card>\r\n        <el-table :data=\"recentActivities\" style=\"width: 100%\">\r\n          <el-table-column prop=\"title\" label=\"活动标题\" />\r\n          <el-table-column prop=\"type\" label=\"类型\" width=\"100\">\r\n            <template #default=\"scope\">\r\n              <el-tag :type=\"getActivityTypeTag(scope.row.type)\">\r\n                {{ getActivityTypeName(scope.row.type) }}\r\n              </el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"startTime\" label=\"开始时间\" width=\"180\" />\r\n          <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\r\n            <template #default=\"scope\">\r\n              <el-tag :type=\"getStatusTag(scope.row.status)\">\r\n                {{ getStatusName(scope.row.status) }}\r\n              </el-tag>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport { getSystemOverview, getTotalActivities, getTotalProjects, getTotalParticipants } from '@/api/statistics'\r\nimport { getAchievementList } from '@/api/achievement'\r\nimport { getUserList } from '@/api/user'\r\nimport { getActivityList } from '@/api/activity'\r\n\r\nexport default {\r\n  name: 'Home',\r\n  setup() {\r\n    const router = useRouter()\r\n    const store = useStore()\r\n    const loading = ref(false)\r\n    \r\n    const userRole = computed(() => store.getters.userRole)\r\n    \r\n    const stats = ref([\r\n      {\r\n        key: 'activities',\r\n        label: '学术活动',\r\n        value: 0,\r\n        icon: 'Calendar',\r\n        color: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'\r\n      },\r\n      {\r\n        key: 'achievements',\r\n        label: '成果申报',\r\n        value: 0,\r\n        icon: 'Trophy',\r\n        color: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)'\r\n      },\r\n      {\r\n        key: 'projects',\r\n        label: '科研项目',\r\n        value: 0,\r\n        icon: 'FolderOpened',\r\n        color: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)'\r\n      },\r\n      {\r\n        key: 'users',\r\n        label: '用户总数',\r\n        value: 0,\r\n        icon: 'UserFilled',\r\n        color: 'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)'\r\n      }\r\n    ])\r\n    \r\n    const quickActions = computed(() => {\r\n      const actions = []\r\n      \r\n      if (userRole.value === 'STUDENT') {\r\n        actions.push(\r\n          {\r\n            key: 'join-activity',\r\n            title: '参与活动',\r\n            description: '查看并报名学术活动',\r\n            icon: 'Calendar',\r\n            route: '/dashboard/activities'\r\n          },\r\n          {\r\n            key: 'submit-achievement',\r\n            title: '申报成果',\r\n            description: '提交科研成果',\r\n            icon: 'Trophy',\r\n            route: '/dashboard/achievements/create'\r\n          }\r\n        )\r\n      }\r\n      \r\n      if (userRole.value === 'TEACHER' || userRole.value === 'ADMIN') {\r\n        actions.push(\r\n          {\r\n            key: 'create-activity',\r\n            title: '发布活动',\r\n            description: '创建新的学术活动',\r\n            icon: 'Calendar',\r\n            route: '/dashboard/activities/create'\r\n          },\r\n          {\r\n            key: 'manage-projects',\r\n            title: '项目管理',\r\n            description: '管理科研项目',\r\n            icon: 'FolderOpened',\r\n            route: '/dashboard/projects'\r\n          }\r\n        )\r\n      }\r\n      \r\n      if (userRole.value === 'ADMIN') {\r\n        actions.push(\r\n          {\r\n            key: 'view-statistics',\r\n            title: '数据统计',\r\n            description: '查看系统统计数据',\r\n            icon: 'DataAnalysis',\r\n            route: '/dashboard/statistics'\r\n          },\r\n          {\r\n            key: 'manage-users',\r\n            title: '用户管理',\r\n            description: '管理系统用户',\r\n            icon: 'UserFilled',\r\n            route: '/dashboard/users'\r\n          }\r\n        )\r\n      }\r\n      \r\n      return actions\r\n    })\r\n    \r\n    const recentActivities = ref([])\r\n    \r\n    const handleAction = (action) => {\r\n      router.push(action.route)\r\n    }\r\n    \r\n    const getActivityTypeName = (type) => {\r\n      const typeMap = {\r\n        'LECTURE': '讲座',\r\n        'COMPETITION': '赛事',\r\n        'TRAINING': '培训'\r\n      }\r\n      return typeMap[type] || type\r\n    }\r\n    \r\n    const getActivityTypeTag = (type) => {\r\n      const tagMap = {\r\n        'LECTURE': 'primary',\r\n        'COMPETITION': 'success',\r\n        'TRAINING': 'warning'\r\n      }\r\n      return tagMap[type] || 'info'\r\n    }\r\n    \r\n    const getStatusName = (status) => {\r\n      const statusMap = {\r\n        'DRAFT': '草稿',\r\n        'PUBLISHED': '已发布',\r\n        'CANCELLED': '已取消',\r\n        'COMPLETED': '已完成'\r\n      }\r\n      return statusMap[status] || status\r\n    }\r\n    \r\n    const getStatusTag = (status) => {\r\n      const tagMap = {\r\n        'DRAFT': 'info',\r\n        'PUBLISHED': 'success',\r\n        'CANCELLED': 'danger',\r\n        'COMPLETED': 'warning'\r\n      }\r\n      return tagMap[status] || 'info'\r\n    }\r\n    \r\n    const loadDashboardData = async () => {\r\n      loading.value = true\r\n      try {\r\n        console.log('开始加载首页统计数据')\r\n        \r\n        // 分别获取各类统计数据\r\n        // 1. 获取学术活动总数\r\n        try {\r\n          const activitiesCount = await getTotalActivities()\r\n          console.log('获取学术活动总数:', activitiesCount)\r\n          const activityStat = stats.value.find(stat => stat.key === 'activities')\r\n          if (activityStat) {\r\n            activityStat.value = typeof activitiesCount === 'number' ? activitiesCount : \r\n                               (activitiesCount?.total || activitiesCount?.count || 0)\r\n          }\r\n        } catch (error) {\r\n          console.error('获取学术活动总数失败:', error)\r\n        }\r\n        \r\n        // 2. 获取成果申报总数\r\n        try {\r\n          const achievementsResponse = await getAchievementList({ pageSize: 1 })\r\n          console.log('获取成果申报数据:', achievementsResponse)\r\n          const achievementStat = stats.value.find(stat => stat.key === 'achievements')\r\n          if (achievementStat) {\r\n            achievementStat.value = achievementsResponse?.total || 0\r\n          }\r\n        } catch (error) {\r\n          console.error('获取成果申报总数失败:', error)\r\n        }\r\n        \r\n        // 3. 获取科研项目总数\r\n        try {\r\n          const projectsCount = await getTotalProjects()\r\n          console.log('获取科研项目总数:', projectsCount)\r\n          const projectStat = stats.value.find(stat => stat.key === 'projects')\r\n          if (projectStat) {\r\n            projectStat.value = typeof projectsCount === 'number' ? projectsCount : \r\n                               (projectsCount?.total || projectsCount?.count || 0)\r\n          }\r\n        } catch (error) {\r\n          console.error('获取科研项目总数失败:', error)\r\n        }\r\n        \r\n        // 4. 获取用户总数\r\n        try {\r\n          const usersResponse = await getUserList({ pageSize: 1 })\r\n          console.log('获取用户数据:', usersResponse)\r\n          const userStat = stats.value.find(stat => stat.key === 'users')\r\n          if (userStat) {\r\n            userStat.value = usersResponse?.total || 0\r\n          }\r\n        } catch (error) {\r\n          console.error('获取用户总数失败:', error)\r\n        }\r\n        \r\n        // 获取最近活动\r\n        try {\r\n          const activitiesResponse = await getActivityList({\r\n            page: 1,\r\n            pageSize: 10,\r\n            sortBy: 'startTime',\r\n            order: 'desc'\r\n          })\r\n          console.log('获取最近活动:', activitiesResponse)\r\n          if (activitiesResponse && activitiesResponse.list) {\r\n            recentActivities.value = activitiesResponse.list\r\n          }\r\n        } catch (error) {\r\n          console.error('获取最近活动失败:', error)\r\n        }\r\n        \r\n        console.log('首页统计数据加载完成:', stats.value)\r\n      } catch (error) {\r\n        console.error('加载首页数据失败:', error)\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n    \r\n    onMounted(() => {\r\n      loadDashboardData()\r\n    })\r\n    \r\n    return {\r\n      stats,\r\n      quickActions,\r\n      recentActivities,\r\n      loading,\r\n      handleAction,\r\n      getActivityTypeName,\r\n      getActivityTypeTag,\r\n      getStatusName,\r\n      getStatusTag\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.home-container {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.welcome-section {\r\n  text-align: center;\r\n  margin-bottom: 40px;\r\n  padding: 40px 0;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border-radius: 12px;\r\n}\r\n\r\n.welcome-section h1 {\r\n  font-size: 28px;\r\n  margin-bottom: 10px;\r\n  font-weight: 600;\r\n}\r\n\r\n.welcome-section p {\r\n  font-size: 16px;\r\n  opacity: 0.9;\r\n  margin: 0;\r\n}\r\n\r\n.stats-section {\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.stat-card {\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.stat-card:hover {\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.stat-icon {\r\n  margin-right: 15px;\r\n}\r\n\r\n.stat-content {\r\n  flex: 1;\r\n}\r\n\r\n.stat-number {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 14px;\r\n  opacity: 0.9;\r\n}\r\n\r\n.quick-actions {\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.quick-actions h2 {\r\n  margin-bottom: 20px;\r\n  color: #2c3e50;\r\n  font-size: 20px;\r\n}\r\n\r\n.action-card {\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  border: 1px solid #e4e7ed;\r\n}\r\n\r\n.action-card:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.action-content {\r\n  text-align: center;\r\n}\r\n\r\n.action-icon {\r\n  color: #409eff;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.action-title {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.action-desc {\r\n  font-size: 12px;\r\n  color: #7f8c8d;\r\n}\r\n\r\n.recent-section h2 {\r\n  margin-bottom: 20px;\r\n  color: #2c3e50;\r\n  font-size: 20px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .welcome-section h1 {\r\n    font-size: 24px;\r\n  }\r\n  \r\n  .welcome-section p {\r\n    font-size: 14px;\r\n  }\r\n  \r\n  .stat-card {\r\n    padding: 15px;\r\n  }\r\n  \r\n  .stat-number {\r\n    font-size: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Home.vue?vue&type=template&id=e289ed8c&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=e289ed8c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e289ed8c\"]])\n\nexport default __exports__"],"names":["getUserList","params","url","method","updateUser","id","data","deleteUser","updateUserStatus","status","approveUser","rejectUser","resetUserPassword","getAchievementList","getAchievementById","createAchievement","updateAchievement","deleteAchievement","getUserAchievements","userId","getSystemOverview","getTotalProjects","getProjectsByStatus","getProjectsByType","getProjectTrend","startDate","endDate","period","getTotalActivities","getActivitiesByType","getActivityTrend","getActivityList","getActivityById","createActivity","updateActivity","deleteActivity","joinActivity","activityId","cancelJoinActivity","generateCertificate","downloadParticipants","type","responseType","class","gutter","stats","stat","xs","sm","key","style","color","size","icon","rows","animated","value","label","quickActions","action","md","padding","handleAction","title","description","recentActivities","prop","width","default","getActivityTypeTag","scope","row","getActivityTypeName","getStatusTag","getStatusName","name","setup","router","store","loading","userRole","getters","actions","push","route","typeMap","tagMap","statusMap","loadDashboardData","async","console","log","activitiesCount","activityStat","find","total","count","error","achievementsResponse","pageSize","achievementStat","projectsCount","projectStat","usersResponse","userStat","activitiesResponse","page","sortBy","order","list","__exports__","render"],"sourceRoot":""}