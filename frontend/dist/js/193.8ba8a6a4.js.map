{"version":3,"file":"js/193.8ba8a6a4.js","mappings":"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","sources":["webpack://academic-management-frontend/./src/views/activity/ActivityForm.vue","webpack://academic-management-frontend/./src/views/activity/ActivityForm.vue?b2c7","webpack://academic-management-frontend/./src/api/activity.js"],"sourcesContent":["<template>\r\n  <div class=\"activity-form\">\r\n    <div class=\"page-header\">\r\n      <h1>{{ isEdit ? '编辑活动' : '发布活动' }}</h1>\r\n      <el-button @click=\"handleBack\">\r\n        <el-icon><ArrowLeft /></el-icon>\r\n        返回\r\n      </el-button>\r\n    </div>\r\n\r\n    <div class=\"form-container\">\r\n      <el-form\r\n        ref=\"formRef\"\r\n        :model=\"form\"\r\n        :rules=\"rules\"\r\n        label-width=\"120px\"\r\n        @submit.prevent=\"handleSubmit\"\r\n      >\r\n        <el-form-item label=\"活动标题\" prop=\"title\">\r\n          <el-input\r\n            v-model=\"form.title\"\r\n            placeholder=\"请输入活动标题\"\r\n            maxlength=\"200\"\r\n            show-word-limit\r\n          />\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"活动类型\" prop=\"type\">\r\n          <el-select v-model=\"form.type\" placeholder=\"请选择活动类型\" style=\"width: 100%\">\r\n            <el-option label=\"讲座\" value=\"LECTURE\" />\r\n            <el-option label=\"赛事\" value=\"COMPETITION\" />\r\n            <el-option label=\"培训\" value=\"TRAINING\" />\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"活动描述\" prop=\"description\">\r\n          <el-input\r\n            v-model=\"form.description\"\r\n            type=\"textarea\"\r\n            :rows=\"4\"\r\n            placeholder=\"请输入活动描述\"\r\n            maxlength=\"1000\"\r\n            show-word-limit\r\n          />\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"主办方\" prop=\"organizer\">\r\n          <el-input\r\n            v-model=\"form.organizer\"\r\n            placeholder=\"请输入主办方\"\r\n            maxlength=\"100\"\r\n          />\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"活动地点\" prop=\"location\">\r\n          <el-input\r\n            v-model=\"form.location\"\r\n            placeholder=\"请输入活动地点\"\r\n            maxlength=\"200\"\r\n          />\r\n        </el-form-item>\r\n\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"开始时间\" prop=\"startTime\">\r\n              <el-date-picker\r\n                v-model=\"form.startTime\"\r\n                type=\"datetime\"\r\n                placeholder=\"选择开始时间\"\r\n                style=\"width: 100%\"\r\n                format=\"YYYY-MM-DD HH:mm:ss\"\r\n                value-format=\"YYYY-MM-DD HH:mm:ss\"\r\n              />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"结束时间\" prop=\"endTime\">\r\n              <el-date-picker\r\n                v-model=\"form.endTime\"\r\n                type=\"datetime\"\r\n                placeholder=\"选择结束时间\"\r\n                style=\"width: 100%\"\r\n                format=\"YYYY-MM-DD HH:mm:ss\"\r\n                value-format=\"YYYY-MM-DD HH:mm:ss\"\r\n              />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <el-form-item label=\"报名截止时间\" prop=\"registrationDeadline\">\r\n          <el-date-picker\r\n            v-model=\"form.registrationDeadline\"\r\n            type=\"datetime\"\r\n            placeholder=\"选择报名截止时间\"\r\n            style=\"width: 100%\"\r\n            format=\"YYYY-MM-DD HH:mm:ss\"\r\n            value-format=\"YYYY-MM-DD HH:mm:ss\"\r\n          />\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"最大参与人数\">\r\n          <el-input-number\r\n            v-model=\"form.maxParticipants\"\r\n            :min=\"1\"\r\n            :max=\"1000\"\r\n            placeholder=\"请输入最大参与人数\"\r\n            style=\"width: 100%\"\r\n          />\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"活动状态\" prop=\"status\">\r\n          <el-radio-group v-model=\"form.status\">\r\n            <el-radio label=\"DRAFT\">草稿</el-radio>\r\n            <el-radio label=\"PUBLISHED\">发布</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button type=\"primary\" :loading=\"loading\" @click=\"handleSubmit\">\r\n            {{ isEdit ? '更新' : '发布' }}\r\n          </el-button>\r\n          <el-button @click=\"handleReset\">重置</el-button>\r\n          <el-button @click=\"handleBack\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, computed, onMounted } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { ElMessage } from 'element-plus'\r\nimport { createActivity, updateActivity, getActivityById } from '@/api/activity'\r\n\r\nexport default {\r\n  name: 'ActivityForm',\r\n  setup() {\r\n    const router = useRouter()\r\n    const route = useRoute()\r\n    \r\n    const formRef = ref()\r\n    const loading = ref(false)\r\n    \r\n    const isEdit = computed(() => !!route.params.id)\r\n    \r\n    const form = reactive({\r\n      title: '',\r\n      type: '',\r\n      description: '',\r\n      organizer: '',\r\n      location: '',\r\n      startTime: '',\r\n      endTime: '',\r\n      registrationDeadline: '',\r\n      maxParticipants: 100,\r\n      status: 'DRAFT'\r\n    })\r\n    \r\n    const rules = {\r\n      title: [\r\n        { required: true, message: '请输入活动标题', trigger: 'blur' },\r\n        { min: 2, max: 200, message: '标题长度在2到200个字符', trigger: 'blur' }\r\n      ],\r\n      type: [\r\n        { required: true, message: '请选择活动类型', trigger: 'change' }\r\n      ],\r\n      description: [\r\n        { required: true, message: '请输入活动描述', trigger: 'blur' },\r\n        { min: 10, max: 1000, message: '描述长度在10到1000个字符', trigger: 'blur' }\r\n      ],\r\n      organizer: [\r\n        { required: true, message: '请输入主办方', trigger: 'blur' }\r\n      ],\r\n      location: [\r\n        { required: true, message: '请输入活动地点', trigger: 'blur' }\r\n      ],\r\n      startTime: [\r\n        { required: true, message: '请选择开始时间', trigger: 'change' }\r\n      ],\r\n      endTime: [\r\n        { required: true, message: '请选择结束时间', trigger: 'change' }\r\n      ],\r\n      registrationDeadline: [\r\n        { required: true, message: '请选择报名截止时间', trigger: 'change' }\r\n      ],\r\n      status: [\r\n        { required: true, message: '请选择活动状态', trigger: 'change' }\r\n      ]\r\n    }\r\n\r\n    // 格式化日期为后端接受的格式\r\n    const formatDateForBackend = (dateString) => {\r\n      if (!dateString) return ''\r\n      // 将 \"2025-10-17T10:24:02\" 转换为 \"2025-10-17 10:24:02\"\r\n      return dateString.replace('T', ' ')\r\n    }\r\n\r\n    // 格式化日期为前端显示的格式\r\n    const formatDateForFrontend = (dateString) => {\r\n      if (!dateString) return ''\r\n      // 将 \"2025-10-17 10:24:02\" 转换为 \"2025-10-17T10:24:02\"\r\n      // 或者保持原样，如果已经是ISO格式\r\n      if (dateString.includes('T')) {\r\n        return dateString\r\n      }\r\n      return dateString.replace(' ', 'T')\r\n    }\r\n    \r\n    const loadActivityData = async () => {\r\n      if (isEdit.value) {\r\n        try {\r\n          loading.value = true\r\n          const response = await getActivityById(route.params.id)\r\n          if (response.code === 200) {\r\n            // 处理日期时间格式 - 修改这里\r\n            const data = { ...response.data }\r\n            if (data.startTime) {\r\n              data.startTime = formatDateForFrontend(data.startTime)\r\n            }\r\n            if (data.endTime) {\r\n              data.endTime = formatDateForFrontend(data.endTime)\r\n            }\r\n            if (data.registrationDeadline) {\r\n              data.registrationDeadline = formatDateForFrontend(data.registrationDeadline)\r\n            }\r\n            Object.assign(form, data)\r\n          } else {\r\n            ElMessage.error(response.message || '加载活动数据失败')\r\n          }\r\n        } catch (error) {\r\n          ElMessage.error('加载活动数据失败，请稍后重试')\r\n        } finally {\r\n          loading.value = false\r\n        }\r\n      }\r\n    }\r\n    \r\n    const handleSubmit = async () => {\r\n      if (!formRef.value) return\r\n      \r\n      await formRef.value.validate(async (valid) => {\r\n        if (valid) {\r\n          loading.value = true\r\n          console.log(\"开始加载...\")\r\n          try {\r\n            // 在提交前格式化日期，并排除不需要的字段\r\n            const submitData = {\r\n              title: form.title,\r\n              type: form.type,\r\n              description: form.description,\r\n              organizer: form.organizer,\r\n              location: form.location,\r\n              startTime: formatDateForBackend(form.startTime),\r\n              endTime: formatDateForBackend(form.endTime),\r\n              registrationDeadline: formatDateForBackend(form.registrationDeadline),\r\n              maxParticipants: form.maxParticipants,\r\n              status: form.status\r\n            } \r\n            const response = isEdit.value \r\n              ? await updateActivity(route.params.id, submitData)\r\n              : await createActivity(submitData)\r\n            console.log(\"结束加载...响应数据:\",response.data,\"isEdit.value数据:\",isEdit.value)\r\n            \r\n            if (response.code === 200) {\r\n              ElMessage.success(response.message || (isEdit.value ? '活动更新成功' : '活动发布成功'))\r\n              router.push('/dashboard/activities')\r\n            } else {\r\n              ElMessage.error(response.message || (isEdit.value ? '活动更新失败' : '活动发布失败'))\r\n            }\r\n          } catch (error) {\r\n            ElMessage.error('操作失败，请稍后重试')\r\n          } finally {\r\n            loading.value = false\r\n          }\r\n        }\r\n      })\r\n    }\r\n    \r\n    const handleReset = () => {\r\n      if (formRef.value) {\r\n        formRef.value.resetFields()\r\n      }\r\n    }\r\n    \r\n    const handleBack = () => {\r\n      router.push('/dashboard/activities')\r\n    }\r\n    \r\n    onMounted(() => {\r\n      loadActivityData()\r\n    })\r\n    \r\n    return {\r\n      formRef,\r\n      loading,\r\n      isEdit,\r\n      form,\r\n      rules,\r\n      handleSubmit,\r\n      handleReset,\r\n      handleBack\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.activity-form {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.page-header h1 {\r\n  margin: 0;\r\n  color: #2c3e50;\r\n}\r\n\r\n.form-container {\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  padding: 30px;\r\n}\r\n</style>\r\n","import { render } from \"./ActivityForm.vue?vue&type=template&id=20a621f0&scoped=true\"\nimport script from \"./ActivityForm.vue?vue&type=script&lang=js\"\nexport * from \"./ActivityForm.vue?vue&type=script&lang=js\"\n\nimport \"./ActivityForm.vue?vue&type=style&index=0&id=20a621f0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-20a621f0\"]])\n\nexport default __exports__","import request from './request'\n\n// 获取活动列表\nexport function getActivityList(params = {}) {\n  return request({\n    url: '/activities',\n    method: 'get',\n    params\n  })\n}\n\n// 获取活动详情\nexport function getActivityById(id) {\n  return request({\n    url: `/activities/${id}`,\n    method: 'get'\n  })\n}\n\n// 创建活动\nexport function createActivity(data) {\n  return request({\n    url: '/activities',\n    method: 'post',\n    data\n  })\n}\n\n// 更新活动\nexport function updateActivity(id, data) {\n  return request({\n    url: `/activities/${id}`,\n    method: 'put',\n    data\n  })\n}\n\n// 删除活动\nexport function deleteActivity(id) {\n  return request({\n    url: `/activities/${id}`,\n    method: 'delete'\n  })\n}\n\n// 根据状态获取活动列表\nexport function getActivitiesByStatus(status) {\n  return request({\n    url: `/activities/status/${status}`,\n    method: 'get'\n  })\n}\n\n// 报名参加活动\nexport function joinActivity(activityId) {\n  return request({\n    url: `/activities/${activityId}/register`,\n    method: 'post',\n    data: {} // 添加空对象作为data参数，确保请求格式正确\n  })\n}\n\n// 取消活动报名\nexport function cancelJoinActivity(activityId) {\n  return request({\n    url: `/activities/${activityId}/cancel-register`,\n    method: 'post'\n  })\n}\n\n// 生成参与证明\nexport function generateCertificate(activityId) {\n  return request({\n    url: `/activities/${activityId}/certificate`,\n    method: 'get'\n  })\n}\n\n// 下载参与名单\nexport function downloadParticipants(activityId, type = 'excel') {\n  return request({\n    url: `/activities/${activityId}/participants/export`,\n    method: 'get',\n    params: {\n      type: type\n    },\n    responseType: 'blob' // 重要：设置响应类型为blob\n  })\n}"],"names":["class","isEdit","handleBack","ref","model","form","rules","handleSubmit","label","prop","title","placeholder","maxlength","type","style","value","description","rows","organizer","location","gutter","span","startTime","format","endTime","registrationDeadline","maxParticipants","min","max","status","loading","handleReset","name","setup","router","route","formRef","params","id","required","message","trigger","formatDateForBackend","dateString","replace","formatDateForFrontend","includes","loadActivityData","async","response","code","data","Object","assign","error","validate","valid","console","log","submitData","success","push","resetFields","__exports__","render","getActivityList","url","method","getActivityById","createActivity","updateActivity","deleteActivity","joinActivity","activityId","cancelJoinActivity","generateCertificate","downloadParticipants","responseType"],"sourceRoot":""}