"use strict";(self["webpackChunkacademic_management_frontend"]=self["webpackChunkacademic_management_frontend"]||[]).push([[692],{5565:function(e,r,l){l.d(r,{ec:function(){return d},iD:function(){return o},kz:function(){return t},r7:function(){return u}});var a=l(86);function o(e){return(0,a.A)({url:"/auth/login",method:"post",data:e})}function t(e){return(0,a.A)({url:"/auth/register",method:"post",data:e})}function d(e){return(0,a.A)({url:"/auth/change-password",method:"post",data:e})}function u(e){return(0,a.A)({url:"/auth/update-profile",method:"post",data:e})}},5692:function(e,r,l){l.r(r),l.d(r,{default:function(){return c}});var a=l(641);const o={class:"register-container"},t={class:"register-form"};function d(e,r,l,d,u,s){const n=(0,a.g2)("el-input"),i=(0,a.g2)("el-form-item"),m=(0,a.g2)("el-option"),g=(0,a.g2)("el-select"),p=(0,a.g2)("el-radio"),c=(0,a.g2)("el-radio-group"),b=(0,a.g2)("el-button"),f=(0,a.g2)("el-form");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("div",t,[r[16]||(r[16]=(0,a.Lk)("div",{class:"register-header"},[(0,a.Lk)("h1",null,"用户注册"),(0,a.Lk)("p",null,"请填写以下信息完成注册")],-1)),(0,a.bF)(f,{ref:"registerFormRef",model:d.registerForm,rules:d.registerRules,class:"register-form-content","label-width":"100px"},{default:(0,a.k6)(()=>[(0,a.bF)(i,{label:"用户名",prop:"username"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{modelValue:d.registerForm.username,"onUpdate:modelValue":r[0]||(r[0]=e=>d.registerForm.username=e),placeholder:"请输入用户名","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),(0,a.bF)(i,{label:"密码",prop:"password"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{modelValue:d.registerForm.password,"onUpdate:modelValue":r[1]||(r[1]=e=>d.registerForm.password=e),type:"password",placeholder:"请输入密码","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),(0,a.bF)(i,{label:"确认密码",prop:"confirmPassword"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{modelValue:d.registerForm.confirmPassword,"onUpdate:modelValue":r[2]||(r[2]=e=>d.registerForm.confirmPassword=e),type:"password",placeholder:"请再次输入密码","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),(0,a.bF)(i,{label:"真实姓名",prop:"realName"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{modelValue:d.registerForm.realName,"onUpdate:modelValue":r[3]||(r[3]=e=>d.registerForm.realName=e),placeholder:"请输入真实姓名","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),(0,a.bF)(i,{label:"邮箱",prop:"email"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{modelValue:d.registerForm.email,"onUpdate:modelValue":r[4]||(r[4]=e=>d.registerForm.email=e),placeholder:"请输入邮箱","prefix-icon":"Message"},null,8,["modelValue"])]),_:1}),(0,a.bF)(i,{label:"手机号",prop:"phone"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{modelValue:d.registerForm.phone,"onUpdate:modelValue":r[5]||(r[5]=e=>d.registerForm.phone=e),placeholder:"请输入手机号","prefix-icon":"Phone"},null,8,["modelValue"])]),_:1}),(0,a.bF)(i,{label:"学号/工号",prop:"studentId"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{modelValue:d.registerForm.studentId,"onUpdate:modelValue":r[6]||(r[6]=e=>d.registerForm.studentId=e),placeholder:"请输入学号或工号","prefix-icon":"CreditCard"},null,8,["modelValue"])]),_:1}),(0,a.bF)(i,{label:"院系",prop:"department"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{modelValue:d.registerForm.department,"onUpdate:modelValue":r[7]||(r[7]=e=>d.registerForm.department=e),placeholder:"请输入院系","prefix-icon":"OfficeBuilding"},null,8,["modelValue"])]),_:1}),(0,a.bF)(i,{label:"专业",prop:"major"},{default:(0,a.k6)(()=>[(0,a.bF)(n,{modelValue:d.registerForm.major,"onUpdate:modelValue":r[8]||(r[8]=e=>d.registerForm.major=e),placeholder:"请输入专业","prefix-icon":"Reading"},null,8,["modelValue"])]),_:1}),(0,a.bF)(i,{label:"年级",prop:"grade"},{default:(0,a.k6)(()=>[(0,a.bF)(g,{modelValue:d.registerForm.grade,"onUpdate:modelValue":r[9]||(r[9]=e=>d.registerForm.grade=e),placeholder:"请选择年级",style:{width:"100%"}},{default:(0,a.k6)(()=>[(0,a.bF)(m,{label:"2021级",value:"2021级"}),(0,a.bF)(m,{label:"2022级",value:"2022级"}),(0,a.bF)(m,{label:"2023级",value:"2023级"}),(0,a.bF)(m,{label:"2024级",value:"2024级"})]),_:1},8,["modelValue"])]),_:1}),(0,a.bF)(i,{label:"性别",prop:"gender"},{default:(0,a.k6)(()=>[(0,a.bF)(c,{modelValue:d.registerForm.gender,"onUpdate:modelValue":r[10]||(r[10]=e=>d.registerForm.gender=e)},{default:(0,a.k6)(()=>[(0,a.bF)(p,{label:1},{default:(0,a.k6)(()=>[...r[12]||(r[12]=[(0,a.eW)("男",-1)])]),_:1}),(0,a.bF)(p,{label:2},{default:(0,a.k6)(()=>[...r[13]||(r[13]=[(0,a.eW)("女",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)(()=>[(0,a.bF)(b,{type:"primary",loading:d.loading,onClick:d.handleRegister,class:"register-button"},{default:(0,a.k6)(()=>[...r[14]||(r[14]=[(0,a.eW)(" 注册 ",-1)])]),_:1},8,["loading","onClick"]),(0,a.bF)(b,{onClick:r[11]||(r[11]=r=>e.$router.push("/login"))},{default:(0,a.k6)(()=>[...r[15]||(r[15]=[(0,a.eW)(" 返回登录 ",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"])])])}var u=l(953),s=l(5220),n=l(163),i=l(5565),m={name:"Register",setup(){const e=(0,s.rd)(),r=(0,u.KR)(),l=(0,u.KR)(!1),a=(0,u.Kh)({username:"",password:"",confirmPassword:"",realName:"",email:"",phone:"",studentId:"",department:"",major:"",grade:"",gender:1}),o=(e,r,l)=>{r!==a.password?l(new Error("两次输入的密码不一致")):l()},t={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在3到20个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:o,trigger:"blur"}],realName:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}],studentId:[{required:!0,message:"请输入学号或工号",trigger:"blur"}],department:[{required:!0,message:"请输入院系",trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"change"}]},d=async()=>{r.value&&await r.value.validate(async r=>{if(r){l.value=!0;try{const r=await(0,i.kz)(a);200===r.code?(n.nk.success("注册成功，等待管理员审批"),e.push("/login")):n.nk.error(r.message||"注册失败")}catch(o){n.nk.error("注册失败，请检查输入信息")}finally{l.value=!1}}})};return{registerFormRef:r,registerForm:a,registerRules:t,loading:l,handleRegister:d}}},g=l(6262);const p=(0,g.A)(m,[["render",d],["__scopeId","data-v-d7b78c4a"]]);var c=p}}]);
//# sourceMappingURL=692.1ff19f21.js.map