"use strict";(self["webpackChunkacademic_management_frontend"]=self["webpackChunkacademic_management_frontend"]||[]).push([[191],{1356:function(t,e,n){n.d(e,{LB:function(){return c},TK:function(){return a},aU:function(){return i},cw:function(){return l},hG:function(){return o},l:function(){return s},pU:function(){return u}});var r=n(86);function i(t){return(0,r.A)({url:"/users",method:"get",params:t})}function a(t,e){return(0,r.A)({url:`/users/${t}`,method:"put",data:e})}function o(t){return(0,r.A)({url:`/users/${t}`,method:"delete"})}function u(t,e){return(0,r.A)({url:`/users/${t}/status`,method:"put",data:{status:e}})}function c(t){return(0,r.A)({url:`/auth/approve-user/${t}`,method:"post"})}function s(t){return(0,r.A)({url:`/auth/reject-user/${t}`,method:"post"})}function l(t){return(0,r.A)({url:`/users/${t}/reset-password`,method:"put"})}},1680:function(t,e,n){n.d(e,{$U:function(){return u},Ab:function(){return o},UM:function(){return a},dy:function(){return c},qN:function(){return i},uk:function(){return s}});var r=n(86);function i(t={}){return(0,r.A)({url:"/achievements",method:"get",params:t})}function a(t){return(0,r.A)({url:`/achievements/${t}`,method:"get"})}function o(t){return(0,r.A)({url:"/achievements",method:"post",data:t})}function u(t,e){return(0,r.A)({url:`/achievements/${t}`,method:"put",data:e})}function c(t){return(0,r.A)({url:`/achievements/${t}`,method:"delete"})}function s(t){return(0,r.A)({url:`/achievements/submitter/${t}`,method:"get"})}},2020:function(t,e,n){n.d(e,{A:function(){return o},EU:function(){return s},F8:function(){return a},Px:function(){return d},hZ:function(){return c},vF:function(){return i},w9:function(){return u},xz:function(){return l}});var r=n(86);function i(){return(0,r.A)({url:"/statistics/overview",method:"get"})}function a(){return(0,r.A)({url:"/statistics/projects/total",method:"get"})}function o(){return(0,r.A)({url:"/statistics/projects/status",method:"get"})}function u(){return(0,r.A)({url:"/statistics/projects/type",method:"get"})}function c(t,e,n="month"){return(0,r.A)({url:"/statistics/projects/trend",method:"get",params:{startDate:t,endDate:e,period:n}})}function s(){return(0,r.A)({url:"/statistics/activities/total",method:"get"})}function l(){return(0,r.A)({url:"/statistics/activities/type",method:"get"})}function d(t,e,n="month"){return(0,r.A)({url:"/statistics/activities/trend",method:"get",params:{startDate:t,endDate:e,period:n}})}},4930:function(t,e,n){n.d(e,{$y:function(){return c},BQ:function(){return d},E1:function(){return o},ES:function(){return i},IE:function(){return l},J0:function(){return u},Kg:function(){return s},qP:function(){return a},zW:function(){return f}});var r=n(86);function i(t={}){return(0,r.A)({url:"/activities",method:"get",params:t})}function a(t){return(0,r.A)({url:`/activities/${t}`,method:"get"})}function o(t){return(0,r.A)({url:"/activities",method:"post",data:t})}function u(t,e){return(0,r.A)({url:`/activities/${t}`,method:"put",data:e})}function c(t){return(0,r.A)({url:`/activities/${t}`,method:"delete"})}function s(t){return(0,r.A)({url:`/activities/${t}/register`,method:"post",data:{}})}function l(t){return(0,r.A)({url:`/activities/${t}/cancel-register`,method:"post"})}function d(t){return(0,r.A)({url:`/activities/${t}/certificate`,method:"get"})}function f(t,e="excel"){return(0,r.A)({url:`/activities/${t}/participants/export`,method:"get",params:{type:e},responseType:"blob"})}},9191:function(t,e,n){n.r(e),n.d(e,{default:function(){return _}});var r=n(641),i=n(33);const a={class:"home-container"},o={class:"stats-section"},u={class:"stat-icon"},c={class:"stat-content"},s={class:"stat-number"},l={class:"stat-label"},d={class:"quick-actions"},f={class:"action-content"},v={class:"action-title"},p={class:"action-desc"},m={class:"recent-section"};function h(t,e,n,h,g,y){const k=(0,r.g2)("el-icon"),A=(0,r.g2)("el-skeleton"),b=(0,r.g2)("el-col"),E=(0,r.g2)("el-row"),T=(0,r.g2)("el-card"),L=(0,r.g2)("el-table-column"),w=(0,r.g2)("el-tag"),F=(0,r.g2)("el-table");return(0,r.uX)(),(0,r.CE)("div",a,[e[2]||(e[2]=(0,r.Lk)("div",{class:"welcome-section"},[(0,r.Lk)("h1",null,"欢迎使用学术活动与科研成果管理系统"),(0,r.Lk)("p",null,"Welcome to Academic Activity & Research Achievement Management System")],-1)),(0,r.Lk)("div",o,[(0,r.bF)(E,{gutter:20},{default:(0,r.k6)(()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(h.stats,t=>((0,r.uX)(),(0,r.Wv)(b,{xs:12,sm:6,key:t.key},{default:(0,r.k6)(()=>[(0,r.Lk)("div",{class:"stat-card",style:(0,i.Tr)({background:t.color})},[(0,r.Lk)("div",u,[(0,r.bF)(k,{size:32},{default:(0,r.k6)(()=>[((0,r.uX)(),(0,r.Wv)((0,r.$y)(t.icon)))]),_:2},1024)]),(0,r.Lk)("div",c,[(0,r.Lk)("div",s,[h.loading?((0,r.uX)(),(0,r.Wv)(A,{key:0,rows:1,animated:""})):((0,r.uX)(),(0,r.CE)(r.FK,{key:1},[(0,r.eW)((0,i.v_)(t.value),1)],64))]),(0,r.Lk)("div",l,(0,i.v_)(t.label),1)])],4)]),_:2},1024))),128))]),_:1})]),(0,r.Lk)("div",d,[e[0]||(e[0]=(0,r.Lk)("h2",null,"快捷操作",-1)),(0,r.bF)(E,{gutter:20},{default:(0,r.k6)(()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(h.quickActions,t=>((0,r.uX)(),(0,r.Wv)(b,{xs:12,sm:8,md:6,key:t.key},{default:(0,r.k6)(()=>[(0,r.bF)(T,{class:"action-card","body-style":{padding:"20px"},onClick:e=>h.handleAction(t)},{default:(0,r.k6)(()=>[(0,r.Lk)("div",f,[(0,r.bF)(k,{size:24,class:"action-icon"},{default:(0,r.k6)(()=>[((0,r.uX)(),(0,r.Wv)((0,r.$y)(t.icon)))]),_:2},1024),(0,r.Lk)("div",v,(0,i.v_)(t.title),1),(0,r.Lk)("div",p,(0,i.v_)(t.description),1)])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),(0,r.Lk)("div",m,[e[1]||(e[1]=(0,r.Lk)("h2",null,"最近活动",-1)),(0,r.bF)(T,null,{default:(0,r.k6)(()=>[(0,r.bF)(F,{data:h.recentActivities,style:{width:"100%"}},{default:(0,r.k6)(()=>[(0,r.bF)(L,{prop:"title",label:"活动标题"}),(0,r.bF)(L,{prop:"type",label:"类型",width:"100"},{default:(0,r.k6)(t=>[(0,r.bF)(w,{type:h.getActivityTypeTag(t.row.type)},{default:(0,r.k6)(()=>[(0,r.eW)((0,i.v_)(h.getActivityTypeName(t.row.type)),1)]),_:2},1032,["type"])]),_:1}),(0,r.bF)(L,{prop:"startTime",label:"开始时间",width:"180"}),(0,r.bF)(L,{prop:"status",label:"状态",width:"100"},{default:(0,r.k6)(t=>[(0,r.bF)(w,{type:h.getStatusTag(t.row.status)},{default:(0,r.k6)(()=>[(0,r.eW)((0,i.v_)(h.getStatusName(t.row.status)),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"])]),_:1})])])}var g=n(953),y=n(5220),k=n(6278),A=n(2020),b=n(1680),E=n(1356),T=n(4930),L={name:"Home",setup(){const t=(0,y.rd)(),e=(0,k.Pj)(),n=(0,g.KR)(!1),i=(0,r.EW)(()=>e.getters.userRole),a=(0,g.KR)([{key:"activities",label:"学术活动",value:0,icon:"Calendar",color:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{key:"achievements",label:"成果申报",value:0,icon:"Trophy",color:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},{key:"projects",label:"科研项目",value:0,icon:"FolderOpened",color:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},{key:"users",label:"用户总数",value:0,icon:"UserFilled",color:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"}]),o=(0,r.EW)(()=>{const t=[];return"STUDENT"===i.value&&t.push({key:"join-activity",title:"参与活动",description:"查看并报名学术活动",icon:"Calendar",route:"/dashboard/activities"},{key:"submit-achievement",title:"申报成果",description:"提交科研成果",icon:"Trophy",route:"/dashboard/achievements/create"}),"TEACHER"!==i.value&&"ADMIN"!==i.value||t.push({key:"create-activity",title:"发布活动",description:"创建新的学术活动",icon:"Calendar",route:"/dashboard/activities/create"},{key:"manage-projects",title:"项目管理",description:"管理科研项目",icon:"FolderOpened",route:"/dashboard/projects"}),"ADMIN"===i.value&&t.push({key:"view-statistics",title:"数据统计",description:"查看系统统计数据",icon:"DataAnalysis",route:"/dashboard/statistics"},{key:"manage-users",title:"用户管理",description:"管理系统用户",icon:"UserFilled",route:"/dashboard/users"}),t}),u=(0,g.KR)([]),c=e=>{t.push(e.route)},s=t=>{const e={LECTURE:"讲座",COMPETITION:"赛事",TRAINING:"培训"};return e[t]||t},l=t=>{const e={LECTURE:"primary",COMPETITION:"success",TRAINING:"warning"};return e[t]||"info"},d=t=>{const e={DRAFT:"草稿",PUBLISHED:"已发布",CANCELLED:"已取消",COMPLETED:"已完成"};return e[t]||t},f=t=>{const e={DRAFT:"info",PUBLISHED:"success",CANCELLED:"danger",COMPLETED:"warning"};return e[t]||"info"},v=async()=>{n.value=!0;try{console.log("开始加载首页统计数据");try{const t=await(0,A.EU)();console.log("获取学术活动总数:",t);const e=a.value.find(t=>"activities"===t.key);e&&(e.value="number"===typeof t?t:t?.total||t?.count||0)}catch(t){console.error("获取学术活动总数失败:",t)}try{const t=await(0,b.qN)({pageSize:1});console.log("获取成果申报数据:",t);const e=a.value.find(t=>"achievements"===t.key);e&&(e.value=t?.total||0)}catch(t){console.error("获取成果申报总数失败:",t)}try{const t=await(0,A.F8)();console.log("获取科研项目总数:",t);const e=a.value.find(t=>"projects"===t.key);e&&(e.value="number"===typeof t?t:t?.total||t?.count||0)}catch(t){console.error("获取科研项目总数失败:",t)}try{const t=await(0,E.aU)({pageSize:1});console.log("获取用户数据:",t);const e=a.value.find(t=>"users"===t.key);e&&(e.value=t?.total||0)}catch(t){console.error("获取用户总数失败:",t)}try{const t=await(0,T.ES)({page:1,pageSize:10,sortBy:"startTime",order:"desc"});console.log("获取最近活动:",t),t&&t.list&&(u.value=t.list)}catch(t){console.error("获取最近活动失败:",t)}console.log("首页统计数据加载完成:",a.value)}catch(t){console.error("加载首页数据失败:",t)}finally{n.value=!1}};return(0,r.sV)(()=>{v()}),{stats:a,quickActions:o,recentActivities:u,loading:n,handleAction:c,getActivityTypeName:s,getActivityTypeTag:l,getStatusName:d,getStatusTag:f}}},w=n(6262);const F=(0,w.A)(L,[["render",h],["__scopeId","data-v-e289ed8c"]]);var _=F}}]);
//# sourceMappingURL=191.12008736.js.map