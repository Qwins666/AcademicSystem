{"version":3,"file":"js/803.f9d0dc74.js","mappings":"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","sources":["webpack://academic-management-frontend/./src/api/user.js","webpack://academic-management-frontend/./src/views/user/UserList.vue","webpack://academic-management-frontend/./src/views/user/UserList.vue?7e0e"],"sourcesContent":["import request from './request'\n\n// 获取用户列表\nexport function getUserList(params) {\n  return request({\n    url: '/users',\n    method: 'get',\n    params\n  })\n}\n\n// 获取用户详情\nexport function getUserDetail(id) {\n  return request({\n    url: `/users/${id}`,\n    method: 'get'\n  })\n}\n\n// 创建用户\nexport function createUser(data) {\n  return request({\n    url: '/users',\n    method: 'post',\n    data\n  })\n}\n\n// 更新用户\nexport function updateUser(id, data) {\n  return request({\n    url: `/users/${id}`,\n    method: 'put',\n    data\n  })\n}\n\n// 删除用户\nexport function deleteUser(id) {\n  return request({\n    url: `/users/${id}`,\n    method: 'delete'\n  })\n}\n\n// 更新用户状态\nexport function updateUserStatus(id, status) {\n  return request({\n    url: `/users/${id}/status`,\n    method: 'put',\n    data: { status }\n  })\n}\n\n// 更新用户角色\nexport function updateUserRole(id, role) {\n  return request({\n    url: `/users/${id}/role`,\n    method: 'put',\n    data: { role }\n  })\n}\n\n// 获取待审批用户列表\nexport function getPendingUsers() {\n  return request({\n    url: '/auth/pending-users',\n    method: 'get'\n  })\n}\n\n// 审批用户\nexport function approveUser(id) {\n  return request({\n    url: `/auth/approve-user/${id}`,\n    method: 'post'\n  })\n}\n\n// 拒绝用户申请\nexport function rejectUser(id) {\n  return request({\n    url: `/auth/reject-user/${id}`,\n    method: 'post'\n  })\n}\n\n// 重置用户密码\nexport function resetUserPassword(id) {\n  return request({\n    url: `/users/${id}/reset-password`,\n    method: 'put'\n  })\n}","<template>\r\n  <div class=\"user-list\">\r\n    <div class=\"page-header\">\r\n      <h1>用户管理</h1>\r\n    </div>\r\n\r\n    <!-- 搜索栏 -->\r\n    <div class=\"search-container\">\r\n      <el-form :model=\"searchForm\" inline>\r\n        <el-form-item label=\"用户名\">\r\n          <el-input \r\n            v-model=\"searchForm.username\"\r\n            placeholder=\"请输入用户名\"\r\n            style=\"width: 150px\"\r\n            clearable\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"真实姓名\">\r\n          <el-input \r\n            v-model=\"searchForm.realName\" \r\n            placeholder=\"请输入真实姓名\"\r\n            style=\"width: 150px\"\r\n            clearable\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"角色\">\r\n          <el-select v-model=\"searchForm.role\" placeholder=\"请选择角色\" clearable style=\"width: 120px\">\r\n            <el-option label=\"学生\" value=\"STUDENT\" />\r\n            <el-option label=\"教师\" value=\"TEACHER\" />\r\n            <el-option label=\"管理员\" value=\"ADMIN\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"状态\">\r\n          <el-select v-model=\"searchForm.status\" placeholder=\"请选择状态\" clearable style=\"width: 120px\">\r\n            <el-option label=\"启用\" value=\"1\" />\r\n            <el-option label=\"禁用\" value=\"0\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"handleSearch\">\r\n            <el-icon><Search /></el-icon>\r\n            搜索\r\n          </el-button>\r\n          <el-button @click=\"handleReset\">\r\n            <el-icon><Refresh /></el-icon>\r\n            重置\r\n          </el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!-- 用户列表 -->\r\n    <div class=\"table-container\">\r\n      <el-table :data=\"userList\" v-loading=\"loading\">\r\n        <el-table-column prop=\"username\" label=\"用户名\" width=\"120\" />\r\n        <el-table-column prop=\"realName\" label=\"真实姓名\" width=\"120\" />\r\n        <el-table-column prop=\"gender\" label=\"性别\" width=\"100\">\r\n          <template #default=\"scope\">\r\n            {{ getGenderName(scope.row.gender) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"email\" label=\"邮箱\" width=\"200\" />\r\n        <el-table-column prop=\"phone\" label=\"手机号\" width=\"130\" />\r\n        <el-table-column prop=\"studentId\" label=\"学号/工号\" width=\"120\" />\r\n        <el-table-column prop=\"department\" label=\"院系\" width=\"150\" />\r\n        <el-table-column prop=\"major\" label=\"专业\" width=\"150\" />\r\n        <el-table-column prop=\"grade\" label=\"年级\" width=\"100\" />\r\n        <el-table-column prop=\"roles\" label=\"角色\" width=\"100\">\r\n          <template #default=\"scope\">\r\n            <el-tag :type=\"getRoleTag(scope.row.roles ? scope.row.roles[0] : '')\">\r\n              {{ getRoleName(scope.row.roles ? scope.row.roles[0] : '') }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\r\n          <template #default=\"scope\">\r\n            <el-tag :type=\"scope.row.status === 1 ? 'success' : 'danger'\">\r\n              {{ scope.row.status === 1 ? '启用' : '禁用' }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"280\" fixed=\"right\">\r\n            <template #default=\"scope\">\r\n              <el-button \r\n                type=\"warning\" \r\n                size=\"small\" \r\n                @click=\"handleEdit(scope.row)\"\r\n              >\r\n                编辑\r\n              </el-button>\r\n              \r\n              <!-- 待审批用户显示审批和拒绝按钮 -->\r\n              <template v-if=\"scope.row.status === 0\">\r\n                <el-button \r\n                  type=\"success\" \r\n                  size=\"small\" \r\n                  @click=\"handleApprove(scope.row)\"\r\n                >\r\n                  审批通过\r\n                </el-button>\r\n                <el-button \r\n                  type=\"danger\" \r\n                  size=\"small\" \r\n                  @click=\"handleReject(scope.row)\"\r\n                >\r\n                  拒绝\r\n                </el-button>\r\n              </template>\r\n              \r\n              <!-- 已激活用户显示禁用按钮 -->\r\n              <template v-else>\r\n                <el-button \r\n                  type=\"danger\" \r\n                  size=\"small\" \r\n                  @click=\"handleToggleStatus(scope.row)\"\r\n                >\r\n                  禁用\r\n                </el-button>\r\n                <el-button \r\n                  type=\"primary\" \r\n                  size=\"small\" \r\n                  @click=\"handleResetPassword(scope.row)\"\r\n                >\r\n                  重置密码\r\n                </el-button>\r\n                <el-button \r\n                  type=\"danger\" \r\n                  size=\"small\" \r\n                  @click=\"handleDelete(scope.row)\"\r\n                  v-if=\"scope.row.role !== 'ADMIN'\"\r\n                >\r\n                  删除\r\n                </el-button>\r\n              </template>\r\n            </template>\r\n          </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 分页 -->\r\n      <div class=\"pagination-container\">\r\n        <el-pagination\r\n          v-model:current-page=\"pagination.current\"\r\n          v-model:page-size=\"pagination.size\"\r\n          :total=\"pagination.total\"\r\n          :page-sizes=\"[10, 20, 50, 100]\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 编辑用户对话框 -->\r\n    <el-dialog\r\n      v-model=\"editDialogVisible\"\r\n      title=\"编辑用户\"\r\n      width=\"600px\"\r\n    >\r\n      <el-form ref=\"editFormRef\" :model=\"editForm\" :rules=\"editFormRules\" label-width=\"100px\">\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"editForm.username\" placeholder=\"请输入用户名\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"真实姓名\" prop=\"realName\">\r\n          <el-input v-model=\"editForm.realName\" placeholder=\"请输入真实姓名\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"editForm.email\" placeholder=\"请输入邮箱\" type=\"email\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\" prop=\"phone\">\r\n          <el-input v-model=\"editForm.phone\" placeholder=\"请输入手机号\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"学号/工号\">\r\n          <el-input v-model=\"editForm.studentId\" placeholder=\"请输入学号/工号\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"院系\">\r\n          <el-input v-model=\"editForm.department\" placeholder=\"请输入院系\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"专业\">\r\n          <el-input v-model=\"editForm.major\" placeholder=\"请输入专业\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"年级\">\r\n          <el-input v-model=\"editForm.grade\" placeholder=\"请输入年级\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\">\r\n          <el-select v-model=\"editForm.gender\" placeholder=\"请选择性别\">\r\n            <el-option label=\"未知\" value=\"0\" />\r\n            <el-option label=\"男\" value=\"1\" />\r\n            <el-option label=\"女\" value=\"2\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户角色\">\r\n          <el-select v-model=\"editForm.roles\" placeholder=\"请选择用户角色\" style=\"width: 200px\">\r\n            <el-option label=\"学生\" value=\"STUDENT\" />\r\n            <el-option label=\"教师\" value=\"TEACHER\" />\r\n            <el-option label=\"管理员\" value=\"ADMIN\" />\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <el-button @click=\"editDialogVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleSaveEdit\">确定</el-button>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, onMounted } from 'vue'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport { getUserList, updateUserStatus, deleteUser, approveUser, rejectUser, updateUser, updateUserRole, resetUserPassword } from '../../api/user'\r\n\r\nexport default {\r\n  name: 'UserList',\r\n  setup() {\r\n    const loading = ref(false)\r\n    const userList = ref([])\r\n    \r\n    const searchForm = reactive({\r\n      username: '',\r\n      realName: '',\r\n      role: '',\r\n      status: ''\r\n    })\r\n    \r\n    const pagination = reactive({\r\n      current: 1,\r\n      size: 10,\r\n      total: 0\r\n    })\r\n    \r\n    const getRoleName = (role) => {\r\n      const roleMap = {\r\n        'STUDENT': '学生',\r\n        'TEACHER': '教师',\r\n        'ADMIN': '管理员'\r\n      }\r\n      return roleMap[role] || (role || '')\r\n    }\r\n    \r\n    const getRoleTag = (role) => {\r\n      const tagMap = {\r\n        'STUDENT': 'success',\r\n        'TEACHER': 'warning',\r\n        'ADMIN': 'danger'\r\n      }\r\n      return tagMap[role] || 'info'\r\n    }\r\n    \r\n    const loadUserList = async () => {\r\n      loading.value = true\r\n      try {\r\n        // 构建查询参数\r\n        const params = {\r\n          page: pagination.current,\r\n          size: pagination.size,\r\n          username: searchForm.username,\r\n          realName: searchForm.realName,\r\n          role: searchForm.role,\r\n          status: searchForm.status\r\n        }\r\n        \r\n        // 调用API获取用户列表\r\n        const response = await getUserList(params)\r\n        \r\n        if (response.code === 200) {\r\n          userList.value = response.data.records || response.data\r\n          pagination.total = response.data.total || userList.value.length\r\n        } else {\r\n          ElMessage.error(response.message || '加载用户列表失败')\r\n          userList.value = []\r\n          pagination.total = 0\r\n        }\r\n      } catch (error) {\r\n        ElMessage.error('加载用户列表失败')\r\n        console.error('加载用户列表错误:', error)\r\n        userList.value = []\r\n        pagination.total = 0\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n    \r\n    const handleSearch = () => {\r\n      pagination.current = 1\r\n      loadUserList()\r\n    }\r\n    \r\n    const handleReset = () => {\r\n      Object.assign(searchForm, {\r\n        username: '',\r\n        realName: '',\r\n        role: '',\r\n        status: ''\r\n      })\r\n      handleSearch()\r\n    }\r\n    \r\n    // 编辑用户相关状态\r\n    const editDialogVisible = ref(false)\r\n    const editFormRef = ref(null)\r\n    const editForm = ref({})\r\n    // 获取性别名称\r\n    const getGenderName = (gender) => {\r\n      const genderMap = {\r\n        0: '未知',\r\n        1: '男',\r\n        2: '女'\r\n      }\r\n      return genderMap[gender] || '未知'\r\n    }\r\n\r\n    const editFormRules = {\r\n      username: [{ required: true, message: '用户名不能为空', trigger: 'blur' }],\r\n      realName: [{ required: true, message: '真实姓名不能为空', trigger: 'blur' }],\r\n      email: [\r\n        { required: true, message: '邮箱不能为空', trigger: 'blur' },\r\n        { type: 'email', message: '请输入有效的邮箱地址', trigger: 'blur' }\r\n      ],\r\n      phone: [{ pattern: /^1[3-9]\\d{9}$/, message: '请输入有效的手机号码', trigger: 'blur' }]\r\n    }\r\n    \r\n    const handleEdit = (user) => {\r\n      // 深拷贝用户数据到编辑表单\r\n      editForm.value = { ...user }\r\n      // 打开编辑对话框\r\n      editDialogVisible.value = true\r\n    }\r\n    \r\n    const handleSaveEdit = async () => {\r\n      try {\r\n        // 确保roles是数组格式\r\n        const userData = {...editForm.value}\r\n        if (userData.roles && typeof userData.roles === 'string') {\r\n          userData.roles = [userData.roles]\r\n        }\r\n        \r\n        // 更新用户基本信息\r\n        const response = await updateUser(editForm.value.id, userData)\r\n        if (response.code === 200) {\r\n          ElMessage.success('用户信息更新成功')\r\n          editDialogVisible.value = false\r\n          loadUserList() // 重新加载用户列表\r\n        } else {\r\n          ElMessage.error(response.message || '用户信息更新失败')\r\n        }\r\n      } catch (error) {\r\n        ElMessage.error('用户信息更新失败')\r\n        console.error('更新用户信息错误:', error)\r\n      }\r\n    }\r\n    \r\n    // 审批用户\r\n    const handleApprove = async (user) => {\r\n      ElMessageBox.confirm('确定要审批通过此用户吗？', '确认审批', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(async () => {\r\n        try {\r\n          // 调用API审批用户\r\n          const response = await approveUser(user.id)\r\n          \r\n          if (response.code === 200) {\r\n            ElMessage.success('用户审批通过')\r\n            loadUserList()\r\n          } else {\r\n            ElMessage.error(response.message || '审批失败')\r\n          }\r\n        } catch (error) {\r\n          ElMessage.error('审批失败，请稍后重试')\r\n          console.error('审批用户错误:', error)\r\n        }\r\n      })\r\n    }\r\n    \r\n    // 拒绝用户申请\r\n    const handleReject = async (user) => {\r\n      ElMessageBox.confirm('确定要拒绝此用户申请吗？', '确认拒绝', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(async () => {\r\n        try {\r\n          // 调用API拒绝用户申请\r\n          const response = await rejectUser(user.id)\r\n          \r\n          if (response.code === 200) {\r\n            ElMessage.success('已拒绝用户申请')\r\n            loadUserList()\r\n          } else {\r\n            ElMessage.error(response.message || '拒绝失败')\r\n          }\r\n        } catch (error) {\r\n          ElMessage.error('拒绝失败，请稍后重试')\r\n          console.error('拒绝用户错误:', error)\r\n        }\r\n      })\r\n    }\r\n    \r\n    const handleToggleStatus = async (user) => {\r\n      const action = user.status === 1 ? '禁用' : '启用'\r\n      const newStatus = user.status === 1 ? 0 : 1\r\n      \r\n      ElMessageBox.confirm(`确定要${action}此用户吗？`, `确认${action}`, {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(async () => {\r\n        try {\r\n          // 调用API更新用户状态\r\n          const response = await updateUserStatus(user.id, newStatus)\r\n          \r\n          if (response.code === 200) {\r\n            ElMessage.success(`${action}成功`)\r\n            loadUserList()\r\n          } else {\r\n            ElMessage.error(response.message || `${action}失败`)\r\n          }\r\n        } catch (error) {\r\n          ElMessage.error(`${action}失败，请稍后重试`)\r\n          console.error('更新用户状态错误:', error)\r\n        }\r\n      })\r\n    }\r\n    \r\n    // 重置用户密码\r\n    const handleResetPassword = async (user) => {\r\n      ElMessageBox.confirm('确定要重置此用户的密码吗？重置后密码将恢复为初始密码。', '确认重置密码', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(async () => {\r\n        try {\r\n          // 调用API重置用户密码\r\n          const response = await resetUserPassword(user.id)\r\n          \r\n          if (response.code === 200) {\r\n            ElMessage.success('密码重置成功')\r\n          } else {\r\n            ElMessage.error(response.message || '密码重置失败')\r\n          }\r\n        } catch (error) {\r\n          ElMessage.error('密码重置失败，请稍后重试')\r\n          console.error('重置用户密码错误:', error)\r\n        }\r\n      })\r\n    }\r\n    \r\n    // 删除用户\r\n    const handleDelete = async (user) => {\r\n      ElMessageBox.confirm('确定要删除此用户吗？', '确认删除', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(async () => {\r\n        try {\r\n          // 调用API删除用户\r\n          const response = await deleteUser(user.id)\r\n          \r\n          if (response.code === 200) {\r\n            ElMessage.success('删除成功')\r\n            loadUserList()\r\n          } else {\r\n            ElMessage.error(response.message || '删除失败')\r\n          }\r\n        } catch (error) {\r\n          ElMessage.error('删除失败，请稍后重试')\r\n          console.error('删除用户错误:', error)\r\n        }\r\n      })\r\n    }\r\n    \r\n    const handleSizeChange = (size) => {\r\n      pagination.size = size\r\n      loadUserList()\r\n    }\r\n    \r\n    const handleCurrentChange = (current) => {\r\n      pagination.current = current\r\n      loadUserList()\r\n    }\r\n    \r\n    onMounted(() => {\r\n      loadUserList()\r\n    })\r\n    \r\n    return {\r\n      loading,\r\n      userList,\r\n      searchForm,\r\n      pagination,\r\n      getRoleName,\r\n      getRoleTag,\r\n      getGenderName,\r\n      handleSearch,\r\n      handleReset,\r\n      handleEdit,\r\n      handleSaveEdit,\r\n      handleToggleStatus,\r\n      handleDelete,\r\n      handleApprove,\r\n      handleReject,\r\n      handleResetPassword,\r\n      handleSizeChange,\r\n      handleCurrentChange,\r\n      editDialogVisible,\r\n      editForm,\r\n      editFormRef,\r\n      editFormRules\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.user-list {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.page-header {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.page-header h1 {\r\n  margin: 0;\r\n  color: #2c3e50;\r\n}\r\n\r\n.search-container {\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.table-container {\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n  padding: 20px;\r\n}\r\n\r\n.pagination-container {\r\n  margin-top: 20px;\r\n  text-align: right;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n</style>\r\n","import { render } from \"./UserList.vue?vue&type=template&id=5608c00e&scoped=true\"\nimport script from \"./UserList.vue?vue&type=script&lang=js\"\nexport * from \"./UserList.vue?vue&type=script&lang=js\"\n\nimport \"./UserList.vue?vue&type=style&index=0&id=5608c00e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5608c00e\"]])\n\nexport default __exports__"],"names":["getUserList","params","url","method","updateUser","id","data","deleteUser","updateUserStatus","status","approveUser","rejectUser","resetUserPassword","class","model","searchForm","inline","label","username","placeholder","style","clearable","realName","role","value","type","handleSearch","handleReset","userList","prop","width","default","getGenderName","scope","row","gender","getRoleTag","roles","getRoleName","fixed","size","handleEdit","handleApprove","handleReject","handleToggleStatus","handleResetPassword","handleDelete","loading","pagination","current","total","layout","handleSizeChange","handleCurrentChange","editDialogVisible","title","footer","handleSaveEdit","ref","editForm","rules","editFormRules","email","phone","studentId","department","major","grade","name","setup","roleMap","tagMap","loadUserList","async","page","response","code","records","length","error","message","console","Object","assign","editFormRef","genderMap","required","trigger","pattern","user","userData","success","confirm","confirmButtonText","cancelButtonText","then","action","newStatus","__exports__","render"],"sourceRoot":""}