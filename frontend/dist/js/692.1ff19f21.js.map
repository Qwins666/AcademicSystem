{"version":3,"file":"js/692.1ff19f21.js","mappings":"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","sources":["webpack://academic-management-frontend/./src/api/auth.js","webpack://academic-management-frontend/./src/views/Register.vue","webpack://academic-management-frontend/./src/views/Register.vue?157d"],"sourcesContent":["import request from './request'\r\n\r\n// 用户登录\r\nexport function login(data) {\r\n  return request({\r\n    url: '/auth/login',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 用户注册\r\nexport function register(data) {\r\n  return request({\r\n    url: '/auth/register',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取用户信息\r\nexport function getUserInfo() {\r\n  return request({\r\n    url: '/auth/userinfo',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 修改密码\r\nexport function changePassword(data) {\r\n  return request({\r\n    url: '/auth/change-password',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 更新用户信息\r\nexport function updateProfile(data) {\r\n  return request({\r\n    url: '/auth/update-profile',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n","<template>\r\n  <div class=\"register-container\">\r\n    <div class=\"register-form\">\r\n      <div class=\"register-header\">\r\n        <h1>用户注册</h1>\r\n        <p>请填写以下信息完成注册</p>\r\n      </div>\r\n      \r\n      <el-form\r\n        ref=\"registerFormRef\"\r\n        :model=\"registerForm\"\r\n        :rules=\"registerRules\"\r\n        class=\"register-form-content\"\r\n        label-width=\"100px\"\r\n      >\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input\r\n            v-model=\"registerForm.username\"\r\n            placeholder=\"请输入用户名\"\r\n            prefix-icon=\"User\"\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input\r\n            v-model=\"registerForm.password\"\r\n            type=\"password\"\r\n            placeholder=\"请输入密码\"\r\n            prefix-icon=\"Lock\"\r\n            show-password\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"确认密码\" prop=\"confirmPassword\">\r\n          <el-input\r\n            v-model=\"registerForm.confirmPassword\"\r\n            type=\"password\"\r\n            placeholder=\"请再次输入密码\"\r\n            prefix-icon=\"Lock\"\r\n            show-password\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"真实姓名\" prop=\"realName\">\r\n          <el-input\r\n            v-model=\"registerForm.realName\"\r\n            placeholder=\"请输入真实姓名\"\r\n            prefix-icon=\"User\"\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input\r\n            v-model=\"registerForm.email\"\r\n            placeholder=\"请输入邮箱\"\r\n            prefix-icon=\"Message\"\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"手机号\" prop=\"phone\">\r\n          <el-input\r\n            v-model=\"registerForm.phone\"\r\n            placeholder=\"请输入手机号\"\r\n            prefix-icon=\"Phone\"\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"学号/工号\" prop=\"studentId\">\r\n          <el-input\r\n            v-model=\"registerForm.studentId\"\r\n            placeholder=\"请输入学号或工号\"\r\n            prefix-icon=\"CreditCard\"\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"院系\" prop=\"department\">\r\n          <el-input\r\n            v-model=\"registerForm.department\"\r\n            placeholder=\"请输入院系\"\r\n            prefix-icon=\"OfficeBuilding\"\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"专业\" prop=\"major\">\r\n          <el-input\r\n            v-model=\"registerForm.major\"\r\n            placeholder=\"请输入专业\"\r\n            prefix-icon=\"Reading\"\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"年级\" prop=\"grade\">\r\n          <el-select\r\n            v-model=\"registerForm.grade\"\r\n            placeholder=\"请选择年级\"\r\n            style=\"width: 100%\"\r\n          >\r\n            <el-option label=\"2021级\" value=\"2021级\" />\r\n            <el-option label=\"2022级\" value=\"2022级\" />\r\n            <el-option label=\"2023级\" value=\"2023级\" />\r\n            <el-option label=\"2024级\" value=\"2024级\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"性别\" prop=\"gender\">\r\n          <el-radio-group v-model=\"registerForm.gender\">\r\n            <el-radio :label=\"1\">男</el-radio>\r\n            <el-radio :label=\"2\">女</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        \r\n        <el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            :loading=\"loading\"\r\n            @click=\"handleRegister\"\r\n            class=\"register-button\"\r\n          >\r\n            注册\r\n          </el-button>\r\n          <el-button @click=\"$router.push('/login')\">\r\n            返回登录\r\n          </el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { ElMessage } from 'element-plus'\r\nimport { register } from '@/api/auth'\r\n\r\nexport default {\r\n  name: 'Register',\r\n  setup() {\r\n    const router = useRouter()\r\n    \r\n    const registerFormRef = ref()\r\n    const loading = ref(false)\r\n    \r\n    const registerForm = reactive({\r\n      username: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      realName: '',\r\n      email: '',\r\n      phone: '',\r\n      studentId: '',\r\n      department: '',\r\n      major: '',\r\n      grade: '',\r\n      gender: 1\r\n    })\r\n    \r\n    const validateConfirmPassword = (rule, value, callback) => {\r\n      if (value !== registerForm.password) {\r\n        callback(new Error('两次输入的密码不一致'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    \r\n    const registerRules = {\r\n      username: [\r\n        { required: true, message: '请输入用户名', trigger: 'blur' },\r\n        { min: 3, max: 20, message: '用户名长度在3到20个字符', trigger: 'blur' }\r\n      ],\r\n      password: [\r\n        { required: true, message: '请输入密码', trigger: 'blur' },\r\n        { min: 6, message: '密码长度不能少于6位', trigger: 'blur' }\r\n      ],\r\n      confirmPassword: [\r\n        { required: true, message: '请确认密码', trigger: 'blur' },\r\n        { validator: validateConfirmPassword, trigger: 'blur' }\r\n      ],\r\n      realName: [\r\n        { required: true, message: '请输入真实姓名', trigger: 'blur' }\r\n      ],\r\n      email: [\r\n        { required: true, message: '请输入邮箱', trigger: 'blur' },\r\n        { type: 'email', message: '请输入正确的邮箱格式', trigger: 'blur' }\r\n      ],\r\n      phone: [\r\n        { required: true, message: '请输入手机号', trigger: 'blur' },\r\n        { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号', trigger: 'blur' }\r\n      ],\r\n      studentId: [\r\n        { required: true, message: '请输入学号或工号', trigger: 'blur' }\r\n      ],\r\n      department: [\r\n        { required: true, message: '请输入院系', trigger: 'blur' }\r\n      ],\r\n      gender: [\r\n        { required: true, message: '请选择性别', trigger: 'change' }\r\n      ]\r\n    }\r\n    \r\n    const handleRegister = async () => {\r\n      if (!registerFormRef.value) return\r\n      \r\n      await registerFormRef.value.validate(async (valid) => {\r\n        if (valid) {\r\n          loading.value = true\r\n          try {\r\n            const response = await register(registerForm)\r\n            if (response.code === 200) {\r\n              ElMessage.success('注册成功，等待管理员审批')\r\n              router.push('/login')\r\n            } else {\r\n              ElMessage.error(response.message || '注册失败')\r\n            }\r\n          } catch (error) {\r\n            ElMessage.error('注册失败，请检查输入信息')\r\n          } finally {\r\n            loading.value = false\r\n          }\r\n        }\r\n      })\r\n    }\r\n    \r\n    return {\r\n      registerFormRef,\r\n      registerForm,\r\n      registerRules,\r\n      loading,\r\n      handleRegister\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.register-container {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  padding: 20px;\r\n}\r\n\r\n.register-form {\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\r\n  padding: 40px;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n.register-header {\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.register-header h1 {\r\n  color: #2c3e50;\r\n  font-size: 24px;\r\n  margin-bottom: 10px;\r\n  font-weight: 600;\r\n}\r\n\r\n.register-header p {\r\n  color: #7f8c8d;\r\n  font-size: 14px;\r\n  margin: 0;\r\n}\r\n\r\n.register-form-content {\r\n  margin-top: 20px;\r\n}\r\n\r\n.register-button {\r\n  width: 100px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .register-form {\r\n    padding: 30px 20px;\r\n    max-width: 100%;\r\n  }\r\n  \r\n  .register-header h1 {\r\n    font-size: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Register.vue?vue&type=template&id=d7b78c4a&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=d7b78c4a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d7b78c4a\"]])\n\nexport default __exports__"],"names":["login","data","url","method","register","changePassword","updateProfile","class","ref","model","registerForm","rules","registerRules","label","prop","username","placeholder","password","type","confirmPassword","realName","email","phone","studentId","department","major","grade","style","value","gender","loading","handleRegister","$router","push","name","setup","router","registerFormRef","validateConfirmPassword","rule","callback","Error","required","message","trigger","min","max","validator","pattern","async","validate","valid","response","code","success","error","__exports__","render"],"sourceRoot":""}